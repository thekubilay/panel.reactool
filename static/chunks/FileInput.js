import{_ as d}from"./Icon.js";import{d as h,D as u,o as k,F as y,a as s,b as n,e as a,c as _,t as r,g as m}from"./vendor.js";import"../main.js";const x={class:"fic"},C={class:"header flex align-center justify-space-between"},w={class:"input-wrapper flex-column align-center justify-center"},E={class:"preview-wrapper flex-column align-center justify-center"},F={key:2,class:"text text-center"},B={class:"name block"},D={key:0,class:"hint block text-center"},V={key:1,class:"limit block text-center"},b={key:3,class:"text text-center"},j=a("span",{class:"name error"},"\u30A2\u30C3\u30D7\u30ED\u30FC\u30C9\u3057\u305F\u30D5\u30A1\u30A4\u30EB\u30EB\u30FC\u30EB\u5916",-1),S=[j],A=["accept"],L=h({props:{modelValue:[File,String],preview_test:{type:String,default:""},hint:String,limit:String,accept:String,rule:Function},emits:["update:modelValue"],setup(l,{emit:f}){const i=l,c=u(!0),o=u();u(null);const t=u("");k(()=>{t.value=i.preview_test});const v=()=>{var e;(e=o.value)==null||e.click()},g=e=>{e.target.files&&e.target.files[0]&&(t.value=e.target.files[0].name,c.value=i.rule?i.rule(e.target.files[0].size):!0,c.value?(f("update:modelValue",e.target.files[0]),e.target.parentElement.parentElement.classList.remove("error")):(t.value="",e.target.value=""))};return y(()=>i.modelValue,e=>{e||(t.value="",o.value.value=null)}),(e,p)=>(s(),n("div",x,[a("div",C,[a("button",{onClick:p[0]||(p[0]=I=>v()),class:"open"},"\u30A2\u30C3\u30D7\u30ED\u30FC\u30C9")]),a("div",w,[a("div",E,[t.value?(s(),_(d,{key:1,svg:"image",width:"50px"})):(s(),_(d,{key:0,svg:"upload",width:"50px"})),c.value?(s(),n("p",F,[a("span",B,r(t.value),1),t.value?m("",!0):(s(),n("span",D,r(l.hint),1)),t.value?m("",!0):(s(),n("span",V,r(l.limit),1))])):(s(),n("p",b,S))]),a("input",{ref_key:"file",ref:o,id:"file",type:"file",onChange:g,class:"file-input",accept:l.accept},null,40,A)])]))}});export{L as default};
