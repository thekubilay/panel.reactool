import{_ as d}from"./Icon.js";import{d as h,r as u,l as y,w as k,c as l,e as a,y as _,t as r,g as f,o as s}from"../main.js";const x={class:"fic"},C={class:"header flex align-center justify-space-between"},w={class:"input-wrapper flex-column align-center justify-center"},E={class:"preview-wrapper flex-column align-center justify-center"},F={key:2,class:"text text-center"},B={class:"name block"},V={key:0,class:"hint block text-center"},D={key:1,class:"limit block text-center"},S={key:3,class:"text text-center"},b=a("span",{class:"name error"},"\u30A2\u30C3\u30D7\u30ED\u30FC\u30C9\u3057\u305F\u30D5\u30A1\u30A4\u30EB\u30EB\u30FC\u30EB\u5916",-1),A=[b],j=["accept"],z=h({__name:"FileInput",props:{modelValue:[File,String],preview_test:{type:String,default:""},hint:String,limit:String,accept:String,rule:Function},emits:["update:modelValue"],setup(n,{emit:m}){const i=n,c=u(!0),o=u();u(null);const t=u("");y(()=>{t.value=i.preview_test});const v=()=>{var e;(e=o.value)==null||e.click()},g=e=>{e.target.files&&e.target.files[0]&&(t.value=e.target.files[0].name,c.value=i.rule?i.rule(e.target.files[0].size):!0,c.value?(m("update:modelValue",e.target.files[0]),e.target.parentElement.parentElement.classList.remove("error")):(t.value="",e.target.value=""))};return k(()=>i.modelValue,e=>{e||(t.value="",o.value.value=null)}),(e,p)=>(s(),l("div",x,[a("div",C,[a("button",{onClick:p[0]||(p[0]=I=>v()),class:"open"},"\u30A2\u30C3\u30D7\u30ED\u30FC\u30C9")]),a("div",w,[a("div",E,[t.value?(s(),_(d,{key:1,svg:"image",width:"50px"})):(s(),_(d,{key:0,svg:"upload",width:"50px"})),c.value?(s(),l("p",F,[a("span",B,r(t.value),1),t.value?f("",!0):(s(),l("span",V,r(n.hint),1)),t.value?f("",!0):(s(),l("span",D,r(n.limit),1))])):(s(),l("p",S,A))]),a("input",{ref_key:"file",ref:o,id:"file",type:"file",onChange:g,class:"file-input",accept:n.accept},null,40,j)])]))}});export{z as default};
