import{s as T}from"./dropdown.esm.js";import{d as k,A as $,u as I,k as P,O as R,l as v,L,D as U,m as j,c as N,g as n,w as d,h as u,b as s,p,P as S,o as H,s as M,t as f}from"../main.js";import{D as O}from"./vuedraggable.umd.js";import{_ as z}from"./Dialog.js";import{_ as G}from"./FormQuery.js";import{_ as J}from"./DialogDelete.js";import{_ as K}from"./BarTool.js";import{a as Q,u as W}from"./useFormRequestBuilder.js";import"./index.esm.js";import"./virtualscroller.esm.js";import"./portal.esm.js";import"./_commonjsHelpers.js";import"./Spinner.js";import"./plugin-vue_export-helper.js";const X=[[{classes:["flex","justify-space-between"],elements:[{component:null,name:"Dropdown",db_column_name:"active",type:"text",model:!0,label:"\u30AA\u30F3\u30E9\u30A4\u30F3",hint:null,required:!0,rules:[],id:"active_input",disabled:!1,options:[{name:"\u306F\u3044",value:!0},{name:"\u3044\u3044\u3048",value:!1}],optionLabel:"name",optionValue:"value",placeholder:"\u9078\u629E",appendTo:"body",props:["placeholder","required","disabled","options","optionLabel","optionValue","appendTo"],classes:["flex-column","column-2-space","relative"]},{component:null,name:"Dropdown",db_column_name:"type",type:"text",model:"\u30D1\u30CD\u30EB",label:"\u30BF\u30A4\u30D7",hint:null,required:!0,rules:[],id:"type_input",disabled:!1,options:[{name:"\u30A2\u30D7\u30EA",value:"\u30A2\u30D7\u30EA"},{name:"\u30D1\u30CD\u30EB",value:"\u30D1\u30CD\u30EB"},{name:"API",value:"API"}],optionLabel:"name",optionValue:"value",placeholder:"\u9078\u629E",appendTo:"body",props:["placeholder","required","disabled","options","optionLabel","optionValue","appendTo"],classes:["flex-column","column-2-space","relative"]}]},{classes:["flex"],elements:[{component:null,name:"InputText",db_column_name:"title",type:"text",model:null,label:"\u30BF\u30A4\u30C8\u30EB",hint:null,placeholder:"\u30FC",required:!0,id:"title_input",rules:[],disabled:!1,props:["placeholder","required","disabled"],classes:["flex-column","column-1"]}]},{classes:["flex"],elements:[{component:null,name:"InputText",db_column_name:"sub_title",type:"text",model:null,label:"\u30B5\u30D6\u30BF\u30A4\u30C8\u30EB",hint:null,placeholder:"\u30FC",required:!1,id:"sub_title_input",rules:[],disabled:!1,props:["placeholder","required","disabled"],classes:["flex-column","column-1"]}]},{classes:["flex"],elements:[{component:null,name:"Textarea",db_column_name:"content",type:"text",model:null,label:"\u5185\u5BB9",hint:null,placeholder:"\u30FC",required:!1,rows:"6",cols:"10",id:"content_input",rules:[],disabled:!1,props:["placeholder","required","disabled"],classes:["flex-column","column-1"]}]},{classes:["flex"],elements:[{component:null,name:"FileInput",db_column_name:"pdf",type:"text",model:null,label:"PDF",hint:".pdf \u30B5\u30DD\u30FC\u30C8\u3055\u308C\u3066\u3044\u307E\u3059",required:!1,id:"image_input",preview_text:"\u30A2\u30C3\u30D7\u30ED\u30FC\u30C9\u306E\u305F\u3081\u3001\u30AF\u30EA\u30C3\u30AF\u3084PDF\u3092\u30C9\u30ED\u30C3\u30D7\u3057\u3066\u304F\u3060\u3055\u3044",limit:"",accept:"pdf/*",rules:[],rule:null,disabled:!1,props:["placeholder","required","disabled","accept","hint","model","preview_text","limit","rule"],classes:["flex-column","column-1"]}]},{classes:["flex"],elements:[{component:null,name:"FileInput",db_column_name:"video",type:"text",model:null,label:"\u30D3\u30C7\u30AA",hint:null,required:!1,id:"video_input",preview_text:"\u30A2\u30C3\u30D7\u30ED\u30FC\u30C9\u306E\u305F\u3081\u3001\u30AF\u30EA\u30C3\u30AF\u3084\u753B\u50CF\u30C9\u30ED\u30C3\u30D7\u3057\u3066\u304F\u3060\u3055\u3044",limit:"",accept:"video/mp4,video/x-m4v,video/*",rules:[],rule:null,disabled:!1,props:["placeholder","required","disabled","accept","hint","model","preview_text","limit","rule"],classes:["flex-column","column-1"]}]}]];const Y={id:"admin-tutorials",class:"admin-board"},Z={class:"part-wrap"},ee={class:"part-wrap part-end"},le={class:"spreadsheet-wrapper overflow-x"},ue=S('<div class="sh-container ss-container"><div class="sheet-row sheet-row-header flex align-center"><div class="sheet-cell handle flex align-center"></div><div class="sheet-cell num flex align-center">\u9806\u756A</div><div class="sheet-cell value flex align-center">\u30BF\u30A4\u30D7</div><div class="sheet-cell sheet-cell-long value flex align-center">\u30BF\u30A4\u30C8\u30EB</div></div></div>',1),te=["onClick"],se=u("div",{class:"sheet-cell handle flex align-center handle grab"},[u("i",{class:"pi pi-bars"})],-1),ae={class:"sheet-cell num flex align-center"},oe={class:"text block"},ne={class:"sheet-cell sheet-cell value flex align-center"},ie={class:"text block"},re={class:"sheet-cell sheet-cell-long value flex align-center"},de={class:"text block"},pe={class:"button-wrapper flex justify-end"},Ie=k({__name:"Tutorials",setup(ce){const{get:x}=$(),{store:me,progress:ve,user:fe,companies:_e,company:be,users:he,content:_,tutorials:c}=I(),{submit:D,remove:A,submitRowReorder:E}=Q(),{d:o,dr:a,data:b,useToggle:h}=W();P();const F=R(),m=v(!1),i=v("\u30D1\u30CD\u30EB"),r=v([]),y=["\u30D1\u30CD\u30EB","\u30A2\u30D7\u30EA","API"],C=L({set(t){i.value=t,r.value=c.value.filter(e=>e.type===t)||[]},get(){return i.value}});function g(){const t=i.value==="\u30D1\u30CD\u30EB"?"panel":i.value==="\u30A2\u30D7\u30EA"?"app":"api";F.push({name:"TutorialImages",query:{tutorial:t}})}function B(){m.value=!1,h({method:"post",endpoints:["tutorials","tutorials"],state:"tutorials"})}function w(t){m.value=!0,h({method:"patch",endpoints:["tutorials/"+t.id,"tutorials"],state:"tutorials"},t)}function V(){var t;_.value=!0,A("tutorials/"+((t=b.value)==null?void 0:t.id)).then(()=>{x("tutorials","tutorials").then(e=>{a.value=!1,o.value=!1,_.value=!1})})}return U(()=>c.value,t=>{r.value=t.filter(e=>e.type===i.value)||[]}),j(()=>{r.value=c.value.filter(t=>t.type===i.value)||[]}),(t,e)=>(H(),N("div",Y,[n(K,{class:"justify-space-between"},{default:d(()=>[u("div",Z,[n(s(M),{type:"button",class:"submit-button",icon:"pi pi-plus","icon-pos":"left",label:"\u65B0\u898F\u30C1\u30E5\u30FC\u30C8\u30EA\u30A2\u30EB",onClick:e[0]||(e[0]=l=>B())})]),u("div",ee,[n(s(T),{style:{width:"140px"},class:"dropdown",modelValue:C.value,"onUpdate:modelValue":e[1]||(e[1]=l=>C.value=l),options:y},null,8,["modelValue"]),u("button",{onClick:e[2]||(e[2]=l=>g()),class:"tool-button"},"\u30C1\u30E5\u30FC\u30C8\u30EA\u30A2\u30EB\u30D1\u30FC\u30C4")])]),_:1}),u("div",le,[ue,n(s(O),{tag:"div",onEnd:e[3]||(e[3]=l=>s(E)({value:r.value},{method:"post",endpoints:["tutorials","tutorials"],state:"tutorials"})),list:r.value,class:"sb-container ss-container",handle:".handle","item-key":"id"},{item:d(({element:l,index:q})=>[u("div",{onClick:Ce=>w(l),class:"sheet-row flex align-center list-group-item relative pointer"},[se,u("div",ae,[u("span",oe,f(l.order_id?l.order_id:q+1),1)]),u("div",ne,[u("span",ie,f(l.type),1)]),u("div",re,[u("span",de,f(l.title),1)])],8,te)]),_:1},8,["list"])]),n(z,{modelValue:s(o),"onUpdate:modelValue":e[9]||(e[9]=l=>p(o)?o.value=l:null),title:"\u30C4\u30FC\u30C8\u30FC\u30EA\u30A2\u30EB\u30D5\u30A9\u30FC\u30E0",overflow:""},{default:d(()=>[n(G,{modelValue:s(o),"onUpdate:modelValue":e[4]||(e[4]=l=>p(o)?o.value=l:null),dr:s(a),"onUpdate:dr":e[5]||(e[5]=l=>p(a)?a.value=l:null),"close-after":"",form:s(X),query:{},data:s(b),remove:m.value,submit:s(D)},null,8,["modelValue","dr","form","data","remove","submit"]),n(J,{modelValue:s(a),"onUpdate:modelValue":e[8]||(e[8]=l=>p(a)?a.value=l:null)},{default:d(()=>[u("div",pe,[u("button",{onClick:e[6]||(e[6]=l=>a.value=!1),class:"cancel"},"\u3044\u3044\u3048"),u("button",{onClick:e[7]||(e[7]=l=>V()),class:"delete"},"\u306F\u3044")])]),_:1},8,["modelValue"])]),_:1},8,["modelValue"])]))}});export{Ie as default};
