import{a as D,C as j,O as P,q as d,f as r,w as m,x as t,F as $,E as y,t as l,D as u,W as U,B as R,b as p,G as q,A as v}from"./vendor.js";import{_ as E}from"./Dialog.js";import{_ as S}from"./FormQuery.js";import{_ as N}from"./DialogDelete.js";import{_ as I}from"./BarTool.js";import{A as T,u as G}from"../main.js";import{u as H,a as L}from"./useFormRequestBuilder.js";import{f as g}from"./FormProjectPermission.js";import{u as O}from"./useUtils.js";import"./Spinner.js";import"./plugin-vue_export-helper.js";import"./rules.js";const Q={id:"admin-app-routes",class:"admin-board"},W={class:"part-wrap"},z={class:"spreadsheet-wrapper overflow-x"},J=U('<div class="sh-container ss-container"><div class="sheet-row sheet-row-header flex align-center"><div class="sheet-cell num flex align-center">#</div><div class="sheet-cell value flex align-center">\u6A29\u9650\u30B3\u30FC\u30C9\u540D</div><div class="sheet-cell sheet-cell-long flex align-center">\u6A29\u9650\u540D</div><div class="sheet-cell sheet-cell-long flex align-center">\u6A29\u9650\u5185\u5BB9</div></div></div>',1),K={class:"sb-container ss-container"},M=["onClick"],X=t("div",{class:"sheet-cell num flex align-center"},null,-1),Y={class:"sheet-cell value flex align-center"},Z={class:"text block"},ee={class:"sheet-cell sheet-cell-long flex align-center"},se={class:"text block"},te={class:"sheet-cell sheet-cell-long flex align-center"},oe={class:"text block"},le={class:"button-wrapper flex justify-end"},be=D({setup(ne){const{get:x}=T();R();const{payload:b,content:f,user:ae,projectPermissions:V}=G(),{d:n,dr:o,data:_,useToggle:h}=H(),{submit:w,remove:B,submitRowReorder:ie}=L(),{findAndUpdateFormElement:C}=O(),i=j(g),c=j(!1);P({id:null,order_id:null,component:null,name:null,path:null,title:null});function F(){c.value=!1,i.value=g,i.value=C(i.value,"active","model",!1),console.log(i.value),h({method:"post",endpoints:["permissions/projects","permissions/projects"],state:"projectPermissions"})}function k(a){c.value=!0,h({method:"patch",endpoints:["permissions/projects/"+a.id,"permissions/projects"],state:"projectPermissions"},a)}function A(){var a;f.value=!0,b.value={method:"get",endpoints:["permissions/projects","permissions/projects"],state:"projectPermissions"},B("permissions/projects/"+((a=_.value)==null?void 0:a.id)).then(()=>{x("permissions/projects","projectPermissions").then(()=>{o.value=!1,n.value=!1,f.value=!1})})}return(a,s)=>(p(),d("div",Q,[r(I,{class:"justify-space-between"},{default:m(()=>[t("div",W,[r(l(q),{type:"button",class:"submit-button",icon:"pi pi-plus","icon-pos":"left",label:"\u65B0\u898F\u6A29\u9650",onClick:s[0]||(s[0]=e=>F())})])]),_:1}),t("div",z,[J,t("div",K,[(p(!0),d($,null,y(l(V),e=>(p(),d("div",{onClick:re=>k(e),class:"sheet-row flex align-center list-group-item relative pointer"},[X,t("div",Y,[t("span",Z,v(e.code_name),1)]),t("div",ee,[t("span",se,v(e.name),1)]),t("div",te,[t("span",oe,v(e.description),1)])],8,M))),256))])]),r(E,{modelValue:l(n),"onUpdate:modelValue":s[6]||(s[6]=e=>u(n)?n.value=e:null),title:"\u6A29\u9650\u30D5\u30A9\u30FC\u30E0"},{default:m(()=>[r(S,{modelValue:l(n),"onUpdate:modelValue":s[1]||(s[1]=e=>u(n)?n.value=e:null),dr:l(o),"onUpdate:dr":s[2]||(s[2]=e=>u(o)?o.value=e:null),"close-after":"",form:i.value,data:l(_),remove:c.value,query:{},submit:l(w)},null,8,["modelValue","dr","form","data","remove","submit"]),r(N,{modelValue:l(o),"onUpdate:modelValue":s[5]||(s[5]=e=>u(o)?o.value=e:null)},{default:m(()=>[t("div",le,[t("button",{onClick:s[3]||(s[3]=e=>o.value=!1),class:"cancel"},"\u3044\u3044\u3048"),t("button",{onClick:s[4]||(s[4]=e=>A()),class:"delete"},"\u306F\u3044")])]),_:1},8,["modelValue"])]),_:1},8,["modelValue"])]))}});export{be as default};
