var Qt=Object.defineProperty,Jt=Object.defineProperties;var en=Object.getOwnPropertyDescriptors;var qe=Object.getOwnPropertySymbols;var tn=Object.prototype.hasOwnProperty,nn=Object.prototype.propertyIsEnumerable;var Ye=(a,r,e)=>r in a?Qt(a,r,{enumerable:!0,configurable:!0,writable:!0,value:e}):a[r]=e,le=(a,r)=>{for(var e in r||(r={}))tn.call(r,e)&&Ye(a,e,r[e]);if(qe)for(var e of qe(r))nn.call(r,e)&&Ye(a,e,r[e]);return a},Xe=(a,r)=>Jt(a,en(r));import{k as rn,al as $e,a as Ke,af as P,ad as D,ae as an,C as F,O as on,N as de,o as sn,q as _e,f as U,t as I,w as Re,D as we,b as Ze,x,V as Qe,ac as ln,y as Je,A as et,v as dn,z as ue}from"./vendor.js";import{c as ce,C as un,a as V,g as pe,b as p,V as fe,S as tt,d as nt,r as Ce,D as $,e as Te,f as rt,F as W,B as O,h as _,i as at,j as cn,E as pn,k as fn,m as H,M as ot,l as K,n as vn,o as hn,s as ve,p as it,W as st,q as ae,t as gn,u as lt,R as Z,v as dt,w as ut,x as ct,y as pt,z as ft,P as oe,N as xe,A as vt,G as ht,H as gt,I as mt,J as yt,K as St,L as mn,O as yn,Q as Et,T as Sn,U as En,X as Dn,Y as Me,Z as Pe,_ as bn,$ as Rn,a0 as ke,a1 as wn,a2 as Ie,a3 as Cn,a4 as ee,a5 as te,a6 as Tn,a7 as xn,a8 as Ne,a9 as Mn,aa as Pn,ab as kn,ac as In,ad as Nn,ae as Hn,af as An,ag as Ln,ah as jn,ai as Wn,aj as Bn,ak as Dt,al as He,am as he,an as Vn,ao as Ae,ap as Le,aq as Fn,ar as je,as as bt,at as Q,au as J,av as Rt,aw as wt,ax as ge,ay as Ct,az as me,aA as On,aB as Tt,aC as Gn,aD as Un,aE as z,aF as xt,aG as We,aH as Be,aI as zn,aJ as qn,aK as Mt,aL as Yn,aM as Xn,aN as $n,aO as Kn,aP as _n,aQ as Zn,aR as Qn,aS as Jn,aT as er}from"./main.js";import Pt from"./calendar.esm.js";import{s as tr}from"./editor.esm.js";import nr from"./multiselect.esm.js";import{_ as kt}from"./Dialog.js";import{_ as rr}from"./DialogDelete.js";import{a as ar,u as or}from"./useFormRequestBuilder.js";import{A as ir,u as sr}from"../main.js";import{u as lr}from"./useUtils.js";import{S as It}from"./Spinner.js";import"./overlayeventbus.esm.js";import"./virtualscroller.esm.js";import"./plugin-vue_export-helper.js";const dr={headerToolbar:!0,footerToolbar:!0,events:!0,eventSources:!0,resources:!0};function ur(a){return typeof a=="object"&&(Array.isArray(a)?a=Array.prototype.slice.call(a):a&&(a=le({},a))),a}function cr(a,r){const e={};for(const t in a)a.hasOwnProperty(t)&&(e[t]=r(a[t],t));return e}function pr(a){return function(r){return{vue:a(r)}}}function fr(a){return ce({contentTypeHandlers:{vue:()=>vr()}})}function vr(a){let r,e,t;function n(o,s){if(r!==o&&(r&&e&&e.unmount(),r=o),e)t.content=s;else{e=hr(s);let l=document.createElement("span");o.appendChild(l),t=e.mount(l)}}function i(){e&&e.unmount()}return{render:n,destroy:i}}function hr(a,r){return rn({data(){return{content:a}},render(){let{content:e}=this;return e.length===1?e[0]:$e("span",{},e)}})}const gr=Ke({props:{options:Object},data:mr,render(){return $e("div",{attrs:{"data-fc-render-id":this.renderId}})},mounted(){let a=this.$options;a.slotOptions=cr(this.$slots,pr);let r=this.buildOptions(this.options,this.$.appContext),e=new un(this.$el,r);a.calendar=e,e.render()},methods:{getApi:Sr,buildOptions:yr},beforeUpdate(){this.getApi().resumeRendering()},beforeUnmount(){this.getApi().destroy()},watch:Er()});function mr(){return{renderId:0}}function yr(a,r){let e=this.$options;return a=a||{},Xe(le(le({},e.slotOptions),a),{plugins:(a.plugins||[]).concat([fr()])})}function Sr(){return this.$options.calendar}function Er(){let a={options:{deep:!0,handler(r){let e=this.getApi();e.pauseRendering();let t=this.buildOptions(r,this.$.appContext);e.resetOptions(t),this.renderId++}}};for(let r in dr)a[`options.${r}`]={deep:!0,handler(e){if(e!==void 0){let t=this.getApi();t.pauseRendering(),t.resetOptions({[r]:ur(e)},!0),this.renderId++}}};return a}/*!
FullCalendar v5.10.1
Docs & License: https://fullcalendar.io/
(c) 2021 Adam Shaw
*/var Dr=function(a){P(r,a);function r(){var e=a!==null&&a.apply(this,arguments)||this;return e.headerElRef=V(),e}return r.prototype.renderSimpleLayout=function(e,t){var n=this,i=n.props,o=n.context,s=[],l=pe(o.options);return e&&s.push({type:"header",key:"header",isSticky:l,chunk:{elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:e}}),s.push({type:"body",key:"body",liquid:!0,chunk:{content:t}}),p(fe,{viewSpec:o.viewSpec},function(d,u){return p("div",{ref:d,className:["fc-daygrid"].concat(u).join(" ")},p(tt,{liquid:!i.isHeightAuto&&!i.forPrint,collapsibleWidth:i.forPrint,cols:[],sections:s}))})},r.prototype.renderHScrollLayout=function(e,t,n,i){var o=this.context.pluginHooks.scrollGridImpl;if(!o)throw new Error("No ScrollGrid implementation");var s=this,l=s.props,d=s.context,u=!l.forPrint&&pe(d.options),c=!l.forPrint&&nt(d.options),f=[];return e&&f.push({type:"header",key:"header",isSticky:u,chunks:[{key:"main",elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:e}]}),f.push({type:"body",key:"body",liquid:!0,chunks:[{key:"main",content:t}]}),c&&f.push({type:"footer",key:"footer",isSticky:!0,chunks:[{key:"main",content:Ce}]}),p(fe,{viewSpec:d.viewSpec},function(v,h){return p("div",{ref:v,className:["fc-daygrid"].concat(h).join(" ")},p(o,{liquid:!l.isHeightAuto&&!l.forPrint,collapsibleWidth:l.forPrint,colGroups:[{cols:[{span:n,minWidth:i}]}],sections:f}))})},r}($);function ye(a,r){for(var e=[],t=0;t<r;t+=1)e[t]=[];for(var n=0,i=a;n<i.length;n++){var o=i[n];e[o.row].push(o)}return e}function Se(a,r){for(var e=[],t=0;t<r;t+=1)e[t]=[];for(var n=0,i=a;n<i.length;n++){var o=i[n];e[o.firstCol].push(o)}return e}function Nt(a,r){var e=[];if(a){for(var t=0;t<r;t+=1)e[t]={affectedInstances:a.affectedInstances,isEvent:a.isEvent,segs:[]};for(var n=0,i=a.segs;n<i.length;n++){var o=i[n];e[o.row].segs.push(o)}}else for(var t=0;t<r;t+=1)e[t]=null;return e}var br=function(a){P(r,a);function r(){return a!==null&&a.apply(this,arguments)||this}return r.prototype.render=function(){var e=this.props,t=Te(this.context,e.date);return p(rt,{date:e.date,dateProfile:e.dateProfile,todayRange:e.todayRange,showDayNumber:e.showDayNumber,extraHookProps:e.extraHookProps,defaultContent:Rr},function(n,i){return(i||e.forceDayTop)&&p("div",{className:"fc-daygrid-day-top",ref:n},p("a",D({id:e.dayNumberId,className:"fc-daygrid-day-number"},t),i||p(W,null,"\xA0")))})},r}(O);function Rr(a){return a.dayNumberText}var Ht=_({hour:"numeric",minute:"2-digit",omitZeroMinute:!0,meridiem:"narrow"});function At(a){var r=a.eventRange.ui.display;return r==="list-item"||r==="auto"&&!a.eventRange.def.allDay&&a.firstCol===a.lastCol&&a.isStart&&a.isEnd}var Lt=function(a){P(r,a);function r(){return a!==null&&a.apply(this,arguments)||this}return r.prototype.render=function(){var e=this.props;return p(at,D({},e,{extraClassNames:["fc-daygrid-event","fc-daygrid-block-event","fc-h-event"],defaultTimeFormat:Ht,defaultDisplayEventEnd:e.defaultDisplayEventEnd,disableResizing:!e.seg.eventRange.def.allDay}))},r}(O),jt=function(a){P(r,a);function r(){return a!==null&&a.apply(this,arguments)||this}return r.prototype.render=function(){var e=this,t=e.props,n=e.context,i=n.options.eventTimeFormat||Ht,o=cn(t.seg,i,n,!0,t.defaultDisplayEventEnd);return p(pn,{seg:t.seg,timeText:o,defaultContent:wr,isDragging:t.isDragging,isResizing:!1,isDateSelecting:!1,isSelected:t.isSelected,isPast:t.isPast,isFuture:t.isFuture,isToday:t.isToday},function(s,l,d,u){return p("a",D({className:["fc-daygrid-event","fc-daygrid-dot-event"].concat(l).join(" "),ref:s},fn(t.seg,n)),u)})},r}(O);function wr(a){return p(W,null,p("div",{className:"fc-daygrid-event-dot",style:{borderColor:a.borderColor||a.backgroundColor}}),a.timeText&&p("div",{className:"fc-event-time"},a.timeText),p("div",{className:"fc-event-title"},a.event.title||p(W,null,"\xA0")))}var Cr=function(a){P(r,a);function r(){var e=a!==null&&a.apply(this,arguments)||this;return e.compileSegs=H(Tr),e}return r.prototype.render=function(){var e=this.props,t=this.compileSegs(e.singlePlacements),n=t.allSegs,i=t.invisibleSegs;return p(ot,{dateProfile:e.dateProfile,todayRange:e.todayRange,allDayDate:e.allDayDate,moreCnt:e.moreCnt,allSegs:n,hiddenSegs:i,alignmentElRef:e.alignmentElRef,alignGridTop:e.alignGridTop,extraDateSpan:e.extraDateSpan,popoverContent:function(){var o=(e.eventDrag?e.eventDrag.affectedInstances:null)||(e.eventResize?e.eventResize.affectedInstances:null)||{};return p(W,null,n.map(function(s){var l=s.eventRange.instance.instanceId;return p("div",{className:"fc-daygrid-event-harness",key:l,style:{visibility:o[l]?"hidden":""}},At(s)?p(jt,D({seg:s,isDragging:!1,isSelected:l===e.eventSelection,defaultDisplayEventEnd:!1},K(s,e.todayRange))):p(Lt,D({seg:s,isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:l===e.eventSelection,defaultDisplayEventEnd:!1},K(s,e.todayRange))))}))}},function(o,s,l,d,u,c,f,v){return p("a",D({ref:o,className:["fc-daygrid-more-link"].concat(s).join(" "),title:c,"aria-expanded":f,"aria-controls":v},vn(u)),d)})},r}(O);function Tr(a){for(var r=[],e=[],t=0,n=a;t<n.length;t++){var i=n[t];r.push(i.seg),i.isVisible||e.push(i.seg)}return{allSegs:r,invisibleSegs:e}}var xr=_({week:"narrow"}),Mr=function(a){P(r,a);function r(){var e=a!==null&&a.apply(this,arguments)||this;return e.rootElRef=V(),e.state={dayNumberId:hn()},e.handleRootEl=function(t){ve(e.rootElRef,t),ve(e.props.elRef,t)},e}return r.prototype.render=function(){var e=this,t=e.context,n=e.props,i=e.state,o=e.rootElRef,s=n.date,l=n.dateProfile,d=Te(t,s,"week");return p(it,{date:s,dateProfile:l,todayRange:n.todayRange,showDayNumber:n.showDayNumber,extraHookProps:n.extraHookProps,elRef:this.handleRootEl},function(u,c,f,v){return p("td",D({ref:u,role:"gridcell",className:["fc-daygrid-day"].concat(c,n.extraClassNames||[]).join(" ")},f,n.extraDataAttrs,n.showDayNumber?{"aria-labelledby":i.dayNumberId}:{}),p("div",{className:"fc-daygrid-day-frame fc-scrollgrid-sync-inner",ref:n.innerElRef},n.showWeekNumber&&p(st,{date:s,defaultFormat:xr},function(h,g,E,m){return p("a",D({ref:h,className:["fc-daygrid-week-number"].concat(g).join(" ")},d),m)}),!v&&p(br,{date:s,dateProfile:l,showDayNumber:n.showDayNumber,dayNumberId:i.dayNumberId,forceDayTop:n.forceDayTop,todayRange:n.todayRange,extraHookProps:n.extraHookProps}),p("div",{className:"fc-daygrid-day-events",ref:n.fgContentElRef},n.fgContent,p("div",{className:"fc-daygrid-day-bottom",style:{marginTop:n.moreMarginTop}},p(Cr,{allDayDate:s,singlePlacements:n.singlePlacements,moreCnt:n.moreCnt,alignmentElRef:o,alignGridTop:!n.showDayNumber,extraDateSpan:n.extraDateSpan,dateProfile:n.dateProfile,eventSelection:n.eventSelection,eventDrag:n.eventDrag,eventResize:n.eventResize,todayRange:n.todayRange}))),p("div",{className:"fc-daygrid-day-bg"},n.bgContent)))})},r}($);function Pr(a,r,e,t,n,i,o){var s=new Nr;s.allowReslicing=!0,s.strictOrder=t,r===!0||e===!0?(s.maxCoord=i,s.hiddenConsumes=!0):typeof r=="number"?s.maxStackCnt=r:typeof e=="number"&&(s.maxStackCnt=e,s.hiddenConsumes=!0);for(var l=[],d=[],u=0;u<a.length;u+=1){var c=a[u],f=c.eventRange.instance.instanceId,v=n[f];v!=null?l.push({index:u,thickness:v,span:{start:c.firstCol,end:c.lastCol+1}}):d.push(c)}for(var h=s.addSegs(l),g=s.toRects(),E=kr(g,a,o),m=E.singleColPlacements,S=E.multiColPlacements,C=E.leftoverMargins,T=[],N=[],k=0,b=d;k<b.length;k++){var c=b[k];S[c.firstCol].push({seg:c,isVisible:!1,isAbsolute:!0,absoluteTop:0,marginTop:0});for(var M=c.firstCol;M<=c.lastCol;M+=1)m[M].push({seg:ne(c,M,M+1,o),isVisible:!1,isAbsolute:!1,absoluteTop:0,marginTop:0})}for(var M=0;M<o.length;M+=1)T.push(0);for(var G=0,A=h;G<A.length;G++){var q=A[G],c=a[q.index],B=q.span;S[B.start].push({seg:ne(c,B.start,B.end,o),isVisible:!1,isAbsolute:!0,absoluteTop:0,marginTop:0});for(var M=B.start;M<B.end;M+=1)T[M]+=1,m[M].push({seg:ne(c,M,M+1,o),isVisible:!1,isAbsolute:!1,absoluteTop:0,marginTop:0})}for(var M=0;M<o.length;M+=1)N.push(C[M]);return{singleColPlacements:m,multiColPlacements:S,moreCnts:T,moreMarginTops:N}}function kr(a,r,e){for(var t=Ir(a,e.length),n=[],i=[],o=[],s=0;s<e.length;s+=1){for(var l=t[s],d=[],u=0,c=0,f=0,v=l;f<v.length;f++){var h=v[f],g=r[h.index];d.push({seg:ne(g,s,s+1,e),isVisible:!0,isAbsolute:!1,absoluteTop:h.levelCoord,marginTop:h.levelCoord-u}),u=h.levelCoord+h.thickness}var E=[];u=0,c=0;for(var m=0,S=l;m<S.length;m++){var h=S[m],g=r[h.index],C=h.span.end-h.span.start>1,T=h.span.start===s;c+=h.levelCoord-u,u=h.levelCoord+h.thickness,C?(c+=h.thickness,T&&E.push({seg:ne(g,h.span.start,h.span.end,e),isVisible:!0,isAbsolute:!0,absoluteTop:h.levelCoord,marginTop:0})):T&&(E.push({seg:ne(g,h.span.start,h.span.end,e),isVisible:!0,isAbsolute:!1,absoluteTop:h.levelCoord,marginTop:c}),c=0)}n.push(d),i.push(E),o.push(c)}return{singleColPlacements:n,multiColPlacements:i,leftoverMargins:o}}function Ir(a,r){for(var e=[],t=0;t<r;t+=1)e.push([]);for(var n=0,i=a;n<i.length;n++)for(var o=i[n],t=o.span.start;t<o.span.end;t+=1)e[t].push(o);return e}function ne(a,r,e,t){if(a.firstCol===r&&a.lastCol===e-1)return a;var n=a.eventRange,i=n.range,o=Et(i,{start:t[r].date,end:vt(t[e-1].date,1)});return D(D({},a),{firstCol:r,lastCol:e-1,eventRange:{def:n.def,ui:D(D({},n.ui),{durationEditable:!1}),instance:n.instance,range:o},isStart:a.isStart&&o.start.valueOf()===i.start.valueOf(),isEnd:a.isEnd&&o.end.valueOf()===i.end.valueOf()})}var Nr=function(a){P(r,a);function r(){var e=a!==null&&a.apply(this,arguments)||this;return e.hiddenConsumes=!1,e.forceHidden={},e}return r.prototype.addSegs=function(e){for(var t=this,n=a.prototype.addSegs.call(this,e),i=this.entriesByLevel,o=function(l){return!t.forceHidden[ae(l)]},s=0;s<i.length;s+=1)i[s]=i[s].filter(o);return n},r.prototype.handleInvalidInsertion=function(e,t,n){var i=this,o=i.entriesByLevel,s=i.forceHidden,l=e.touchingEntry,d=e.touchingLevel,u=e.touchingLateral;if(this.hiddenConsumes&&l){var c=ae(l);if(!s[c])if(this.allowReslicing){var f=D(D({},l),{span:gn(l.span,t.span)}),v=ae(f);s[v]=!0,o[d][u]=f,this.splitEntry(l,t,n)}else s[c]=!0,n.push(l)}return a.prototype.handleInvalidInsertion.call(this,e,t,n)},r}(lt),Wt=function(a){P(r,a);function r(){var e=a!==null&&a.apply(this,arguments)||this;return e.cellElRefs=new Z,e.frameElRefs=new Z,e.fgElRefs=new Z,e.segHarnessRefs=new Z,e.rootElRef=V(),e.state={framePositions:null,maxContentHeight:null,eventInstanceHeights:{}},e}return r.prototype.render=function(){var e=this,t=this,n=t.props,i=t.state,o=t.context,s=o.options,l=n.cells.length,d=Se(n.businessHourSegs,l),u=Se(n.bgEventSegs,l),c=Se(this.getHighlightSegs(),l),f=Se(this.getMirrorSegs(),l),v=Pr(dt(n.fgEventSegs,s.eventOrder),n.dayMaxEvents,n.dayMaxEventRows,s.eventOrderStrict,i.eventInstanceHeights,i.maxContentHeight,n.cells),h=v.singleColPlacements,g=v.multiColPlacements,E=v.moreCnts,m=v.moreMarginTops,S=n.eventDrag&&n.eventDrag.affectedInstances||n.eventResize&&n.eventResize.affectedInstances||{};return p("tr",{ref:this.rootElRef,role:"row"},n.renderIntro&&n.renderIntro(),n.cells.map(function(C,T){var N=e.renderFgSegs(T,n.forPrint?h[T]:g[T],n.todayRange,S),k=e.renderFgSegs(T,Hr(f[T],g),n.todayRange,{},Boolean(n.eventDrag),Boolean(n.eventResize),!1);return p(Mr,{key:C.key,elRef:e.cellElRefs.createRef(C.key),innerElRef:e.frameElRefs.createRef(C.key),dateProfile:n.dateProfile,date:C.date,showDayNumber:n.showDayNumbers,showWeekNumber:n.showWeekNumbers&&T===0,forceDayTop:n.showWeekNumbers,todayRange:n.todayRange,eventSelection:n.eventSelection,eventDrag:n.eventDrag,eventResize:n.eventResize,extraHookProps:C.extraHookProps,extraDataAttrs:C.extraDataAttrs,extraClassNames:C.extraClassNames,extraDateSpan:C.extraDateSpan,moreCnt:E[T],moreMarginTop:m[T],singlePlacements:h[T],fgContentElRef:e.fgElRefs.createRef(C.key),fgContent:p(W,null,p(W,null,N),p(W,null,k)),bgContent:p(W,null,e.renderFillSegs(c[T],"highlight"),e.renderFillSegs(d[T],"non-business"),e.renderFillSegs(u[T],"bg-event"))})}))},r.prototype.componentDidMount=function(){this.updateSizing(!0)},r.prototype.componentDidUpdate=function(e,t){var n=this.props;this.updateSizing(!ut(e,n))},r.prototype.getHighlightSegs=function(){var e=this.props;return e.eventDrag&&e.eventDrag.segs.length?e.eventDrag.segs:e.eventResize&&e.eventResize.segs.length?e.eventResize.segs:e.dateSelectionSegs},r.prototype.getMirrorSegs=function(){var e=this.props;return e.eventResize&&e.eventResize.segs.length?e.eventResize.segs:[]},r.prototype.renderFgSegs=function(e,t,n,i,o,s,l){var d=this.context,u=this.props.eventSelection,c=this.state.framePositions,f=this.props.cells.length===1,v=o||s||l,h=[];if(c)for(var g=0,E=t;g<E.length;g++){var m=E[g],S=m.seg,C=S.eventRange.instance.instanceId,T=C+":"+e,N=m.isVisible&&!i[C],k=m.isAbsolute,b="",M="";k&&(d.isRtl?(M=0,b=c.lefts[S.lastCol]-c.lefts[S.firstCol]):(b=0,M=c.rights[S.firstCol]-c.rights[S.lastCol])),h.push(p("div",{className:"fc-daygrid-event-harness"+(k?" fc-daygrid-event-harness-abs":""),key:T,ref:v?null:this.segHarnessRefs.createRef(T),style:{visibility:N?"":"hidden",marginTop:k?"":m.marginTop,top:k?m.absoluteTop:"",left:b,right:M}},At(S)?p(jt,D({seg:S,isDragging:o,isSelected:C===u,defaultDisplayEventEnd:f},K(S,n))):p(Lt,D({seg:S,isDragging:o,isResizing:s,isDateSelecting:l,isSelected:C===u,defaultDisplayEventEnd:f},K(S,n)))))}return h},r.prototype.renderFillSegs=function(e,t){var n=this.context.isRtl,i=this.props.todayRange,o=this.state.framePositions,s=[];if(o)for(var l=0,d=e;l<d.length;l++){var u=d[l],c=n?{right:0,left:o.lefts[u.lastCol]-o.lefts[u.firstCol]}:{left:0,right:o.rights[u.firstCol]-o.rights[u.lastCol]};s.push(p("div",{key:ct(u.eventRange),className:"fc-daygrid-bg-harness",style:c},t==="bg-event"?p(pt,D({seg:u},K(u,i))):ft(t)))}return p.apply(void 0,an([W,{}],s))},r.prototype.updateSizing=function(e){var t=this,n=t.props,i=t.frameElRefs;if(!n.forPrint&&n.clientWidth!==null){if(e){var o=n.cells.map(function(c){return i.currentMap[c.key]});if(o.length){var s=this.rootElRef.current;this.setState({framePositions:new oe(s,o,!0,!1)})}}var l=this.state.eventInstanceHeights,d=this.queryEventInstanceHeights(),u=n.dayMaxEvents===!0||n.dayMaxEventRows===!0;this.setState({eventInstanceHeights:D(D({},l),d),maxContentHeight:u?this.computeMaxContentHeight():null})}},r.prototype.queryEventInstanceHeights=function(){var e=this.segHarnessRefs.currentMap,t={};for(var n in e){var i=Math.round(e[n].getBoundingClientRect().height),o=n.split(":")[0];t[o]=Math.max(t[o]||0,i)}return t},r.prototype.computeMaxContentHeight=function(){var e=this.props.cells[0].key,t=this.cellElRefs.currentMap[e],n=this.fgElRefs.currentMap[e];return t.getBoundingClientRect().bottom-n.getBoundingClientRect().top},r.prototype.getCellEls=function(){var e=this.cellElRefs.currentMap;return this.props.cells.map(function(t){return e[t.key]})},r}($);Wt.addStateEquality({eventInstanceHeights:ut});function Hr(a,r){if(!a.length)return[];var e=Ar(r);return a.map(function(t){return{seg:t,isVisible:!0,isAbsolute:!0,absoluteTop:e[t.eventRange.instance.instanceId],marginTop:0}})}function Ar(a){for(var r={},e=0,t=a;e<t.length;e++)for(var n=t[e],i=0,o=n;i<o.length;i++){var s=o[i];r[s.seg.eventRange.instance.instanceId]=s.absoluteTop}return r}var Lr=function(a){P(r,a);function r(){var e=a!==null&&a.apply(this,arguments)||this;return e.splitBusinessHourSegs=H(ye),e.splitBgEventSegs=H(ye),e.splitFgEventSegs=H(ye),e.splitDateSelectionSegs=H(ye),e.splitEventDrag=H(Nt),e.splitEventResize=H(Nt),e.rowRefs=new Z,e.handleRootEl=function(t){e.rootEl=t,t?e.context.registerInteractiveComponent(e,{el:t,isHitComboAllowed:e.props.isHitComboAllowed}):e.context.unregisterInteractiveComponent(e)},e}return r.prototype.render=function(){var e=this,t=this.props,n=t.dateProfile,i=t.dayMaxEventRows,o=t.dayMaxEvents,s=t.expandRows,l=t.cells.length,d=this.splitBusinessHourSegs(t.businessHourSegs,l),u=this.splitBgEventSegs(t.bgEventSegs,l),c=this.splitFgEventSegs(t.fgEventSegs,l),f=this.splitDateSelectionSegs(t.dateSelectionSegs,l),v=this.splitEventDrag(t.eventDrag,l),h=this.splitEventResize(t.eventResize,l),g=o===!0||i===!0;g&&!s&&(g=!1,i=null,o=null);var E=["fc-daygrid-body",g?"fc-daygrid-body-balanced":"fc-daygrid-body-unbalanced",s?"":"fc-daygrid-body-natural"];return p("div",{className:E.join(" "),ref:this.handleRootEl,style:{width:t.clientWidth,minWidth:t.tableMinWidth}},p(xe,{unit:"day"},function(m,S){return p(W,null,p("table",{role:"presentation",className:"fc-scrollgrid-sync-table",style:{width:t.clientWidth,minWidth:t.tableMinWidth,height:s?t.clientHeight:""}},t.colGroupNode,p("tbody",{role:"presentation"},t.cells.map(function(C,T){return p(Wt,{ref:e.rowRefs.createRef(T),key:C.length?C[0].date.toISOString():T,showDayNumbers:l>1,showWeekNumbers:t.showWeekNumbers,todayRange:S,dateProfile:n,cells:C,renderIntro:t.renderRowIntro,businessHourSegs:d[T],eventSelection:t.eventSelection,bgEventSegs:u[T].filter(jr),fgEventSegs:c[T],dateSelectionSegs:f[T],eventDrag:v[T],eventResize:h[T],dayMaxEvents:o,dayMaxEventRows:i,clientWidth:t.clientWidth,clientHeight:t.clientHeight,forPrint:t.forPrint})}))))}))},r.prototype.prepareHits=function(){this.rowPositions=new oe(this.rootEl,this.rowRefs.collect().map(function(e){return e.getCellEls()[0]}),!1,!0),this.colPositions=new oe(this.rootEl,this.rowRefs.currentMap[0].getCellEls(),!0,!1)},r.prototype.queryHit=function(e,t){var n=this,i=n.colPositions,o=n.rowPositions,s=i.leftToIndex(e),l=o.topToIndex(t);if(l!=null&&s!=null){var d=this.props.cells[l][s];return{dateProfile:this.props.dateProfile,dateSpan:D({range:this.getCellRange(l,s),allDay:!0},d.extraDateSpan),dayEl:this.getCellEl(l,s),rect:{left:i.lefts[s],right:i.rights[s],top:o.tops[l],bottom:o.bottoms[l]},layer:0}}return null},r.prototype.getCellEl=function(e,t){return this.rowRefs.currentMap[e].getCellEls()[t]},r.prototype.getCellRange=function(e,t){var n=this.props.cells[e][t].date,i=vt(n,1);return{start:n,end:i}},r}($);function jr(a){return a.eventRange.def.allDay}var Wr=function(a){P(r,a);function r(){var e=a!==null&&a.apply(this,arguments)||this;return e.forceDayIfListItem=!0,e}return r.prototype.sliceRange=function(e,t){return t.sliceRange(e)},r}(ht),Bt=function(a){P(r,a);function r(){var e=a!==null&&a.apply(this,arguments)||this;return e.slicer=new Wr,e.tableRef=V(),e}return r.prototype.render=function(){var e=this,t=e.props,n=e.context;return p(Lr,D({ref:this.tableRef},this.slicer.sliceProps(t,t.dateProfile,t.nextDayThreshold,n,t.dayTableModel),{dateProfile:t.dateProfile,cells:t.dayTableModel.cells,colGroupNode:t.colGroupNode,tableMinWidth:t.tableMinWidth,renderRowIntro:t.renderRowIntro,dayMaxEvents:t.dayMaxEvents,dayMaxEventRows:t.dayMaxEventRows,showWeekNumbers:t.showWeekNumbers,expandRows:t.expandRows,headerAlignElRef:t.headerAlignElRef,clientWidth:t.clientWidth,clientHeight:t.clientHeight,forPrint:t.forPrint}))},r}($),Br=function(a){P(r,a);function r(){var e=a!==null&&a.apply(this,arguments)||this;return e.buildDayTableModel=H(Vr),e.headerRef=V(),e.tableRef=V(),e}return r.prototype.render=function(){var e=this,t=this.context,n=t.options,i=t.dateProfileGenerator,o=this.props,s=this.buildDayTableModel(o.dateProfile,i),l=n.dayHeaders&&p(gt,{ref:this.headerRef,dateProfile:o.dateProfile,dates:s.headerDates,datesRepDistinctDays:s.rowCnt===1}),d=function(u){return p(Bt,{ref:e.tableRef,dateProfile:o.dateProfile,dayTableModel:s,businessHours:o.businessHours,dateSelection:o.dateSelection,eventStore:o.eventStore,eventUiBases:o.eventUiBases,eventSelection:o.eventSelection,eventDrag:o.eventDrag,eventResize:o.eventResize,nextDayThreshold:n.nextDayThreshold,colGroupNode:u.tableColGroupNode,tableMinWidth:u.tableMinWidth,dayMaxEvents:n.dayMaxEvents,dayMaxEventRows:n.dayMaxEventRows,showWeekNumbers:n.weekNumbers,expandRows:!o.isHeightAuto,headerAlignElRef:e.headerElRef,clientWidth:u.clientWidth,clientHeight:u.clientHeight,forPrint:o.forPrint})};return n.dayMinWidth?this.renderHScrollLayout(l,d,s.colCnt,n.dayMinWidth):this.renderSimpleLayout(l,d)},r}(Dr);function Vr(a,r){var e=new mt(a.renderRange,r);return new yt(e,/year|month|week/.test(a.currentRangeUnit))}var Fr=function(a){P(r,a);function r(){return a!==null&&a.apply(this,arguments)||this}return r.prototype.buildRenderRange=function(e,t,n){var i=this.props.dateEnv,o=a.prototype.buildRenderRange.call(this,e,t,n),s=o.start,l=o.end,d;if(/^(year|month)$/.test(t)&&(s=i.startOfWeek(s),d=i.startOfWeek(l),d.valueOf()!==l.valueOf()&&(l=St(d,1))),this.props.monthMode&&this.props.fixedWeekCount){var u=Math.ceil(mn(s,l));l=St(l,6-u)}return{start:s,end:l}},r}(yn),Or=ce({initialView:"dayGridMonth",views:{dayGrid:{component:Br,dateProfileGeneratorClass:Fr},dayGridDay:{type:"dayGrid",duration:{days:1}},dayGridWeek:{type:"dayGrid",duration:{weeks:1}},dayGridMonth:{type:"dayGrid",duration:{months:1},monthMode:!0,fixedWeekCount:!0}}});/*!
FullCalendar v5.10.1
Docs & License: https://fullcalendar.io/
(c) 2021 Adam Shaw
*/var Gr=function(a){P(r,a);function r(){return a!==null&&a.apply(this,arguments)||this}return r.prototype.getKeyInfo=function(){return{allDay:{},timed:{}}},r.prototype.getKeysForDateSpan=function(e){return e.allDay?["allDay"]:["timed"]},r.prototype.getKeysForEventDef=function(e){return e.allDay?Sn(e)?["timed","allDay"]:["allDay"]:["timed"]},r}(En),Ur=_({hour:"numeric",minute:"2-digit",omitZeroMinute:!0,meridiem:"short"});function Vt(a){var r=["fc-timegrid-slot","fc-timegrid-slot-label",a.isLabeled?"fc-scrollgrid-shrink":"fc-timegrid-slot-minor"];return p(Cn.Consumer,null,function(e){if(!a.isLabeled)return p("td",{className:r.join(" "),"data-time":a.isoTimeStr});var t=e.dateEnv,n=e.options,i=e.viewApi,o=n.slotLabelFormat==null?Ur:Array.isArray(n.slotLabelFormat)?_(n.slotLabelFormat[0]):_(n.slotLabelFormat),s={level:0,time:a.time,date:t.toDate(a.date),view:i,text:t.format(a.date,o)};return p(Me,{hookProps:s,classNames:n.slotLabelClassNames,content:n.slotLabelContent,defaultContent:zr,didMount:n.slotLabelDidMount,willUnmount:n.slotLabelWillUnmount},function(l,d,u,c){return p("td",{ref:l,className:r.concat(d).join(" "),"data-time":a.isoTimeStr},p("div",{className:"fc-timegrid-slot-label-frame fc-scrollgrid-shrink-frame"},p("div",{className:"fc-timegrid-slot-label-cushion fc-scrollgrid-shrink-cushion",ref:u},c)))})})}function zr(a){return a.text}var qr=function(a){P(r,a);function r(){return a!==null&&a.apply(this,arguments)||this}return r.prototype.render=function(){return this.props.slatMetas.map(function(e){return p("tr",{key:e.key},p(Vt,D({},e)))})},r}(O),Yr=_({week:"short"}),Xr=5,$r=function(a){P(r,a);function r(){var e=a!==null&&a.apply(this,arguments)||this;return e.allDaySplitter=new Gr,e.headerElRef=V(),e.rootElRef=V(),e.scrollerElRef=V(),e.state={slatCoords:null},e.handleScrollTopRequest=function(t){var n=e.scrollerElRef.current;n&&(n.scrollTop=t)},e.renderHeadAxis=function(t,n){n===void 0&&(n="");var i=e.context.options,o=e.props.dateProfile,s=o.renderRange,l=Dn(s.start,s.end),d=l===1?Te(e.context,s.start,"week"):{};return i.weekNumbers&&t==="day"?p(st,{date:s.start,defaultFormat:Yr},function(u,c,f,v){return p("th",{ref:u,"aria-hidden":!0,className:["fc-timegrid-axis","fc-scrollgrid-shrink"].concat(c).join(" ")},p("div",{className:"fc-timegrid-axis-frame fc-scrollgrid-shrink-frame fc-timegrid-axis-frame-liquid",style:{height:n}},p("a",D({ref:f,className:"fc-timegrid-axis-cushion fc-scrollgrid-shrink-cushion fc-scrollgrid-sync-inner"},d),v)))}):p("th",{"aria-hidden":!0,className:"fc-timegrid-axis"},p("div",{className:"fc-timegrid-axis-frame",style:{height:n}}))},e.renderTableRowAxis=function(t){var n=e.context,i=n.options,o=n.viewApi,s={text:i.allDayText,view:o};return p(Me,{hookProps:s,classNames:i.allDayClassNames,content:i.allDayContent,defaultContent:Kr,didMount:i.allDayDidMount,willUnmount:i.allDayWillUnmount},function(l,d,u,c){return p("td",{ref:l,"aria-hidden":!0,className:["fc-timegrid-axis","fc-scrollgrid-shrink"].concat(d).join(" ")},p("div",{className:"fc-timegrid-axis-frame fc-scrollgrid-shrink-frame"+(t==null?" fc-timegrid-axis-frame-liquid":""),style:{height:t}},p("span",{className:"fc-timegrid-axis-cushion fc-scrollgrid-shrink-cushion fc-scrollgrid-sync-inner",ref:u},c)))})},e.handleSlatCoords=function(t){e.setState({slatCoords:t})},e}return r.prototype.renderSimpleLayout=function(e,t,n){var i=this,o=i.context,s=i.props,l=[],d=pe(o.options);return e&&l.push({type:"header",key:"header",isSticky:d,chunk:{elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:e}}),t&&(l.push({type:"body",key:"all-day",chunk:{content:t}}),l.push({type:"body",key:"all-day-divider",outerContent:p("tr",{role:"presentation",className:"fc-scrollgrid-section"},p("td",{className:"fc-timegrid-divider "+o.theme.getClass("tableCellShaded")}))})),l.push({type:"body",key:"body",liquid:!0,expandRows:Boolean(o.options.expandRows),chunk:{scrollerElRef:this.scrollerElRef,content:n}}),p(fe,{viewSpec:o.viewSpec,elRef:this.rootElRef},function(u,c){return p("div",{className:["fc-timegrid"].concat(c).join(" "),ref:u},p(tt,{liquid:!s.isHeightAuto&&!s.forPrint,collapsibleWidth:s.forPrint,cols:[{width:"shrink"}],sections:l}))})},r.prototype.renderHScrollLayout=function(e,t,n,i,o,s,l){var d=this,u=this.context.pluginHooks.scrollGridImpl;if(!u)throw new Error("No ScrollGrid implementation");var c=this,f=c.context,v=c.props,h=!v.forPrint&&pe(f.options),g=!v.forPrint&&nt(f.options),E=[];e&&E.push({type:"header",key:"header",isSticky:h,syncRowHeights:!0,chunks:[{key:"axis",rowContent:function(S){return p("tr",{role:"presentation"},d.renderHeadAxis("day",S.rowSyncHeights[0]))}},{key:"cols",elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:e}]}),t&&(E.push({type:"body",key:"all-day",syncRowHeights:!0,chunks:[{key:"axis",rowContent:function(S){return p("tr",{role:"presentation"},d.renderTableRowAxis(S.rowSyncHeights[0]))}},{key:"cols",content:t}]}),E.push({key:"all-day-divider",type:"body",outerContent:p("tr",{role:"presentation",className:"fc-scrollgrid-section"},p("td",{colSpan:2,className:"fc-timegrid-divider "+f.theme.getClass("tableCellShaded")}))}));var m=f.options.nowIndicator;return E.push({type:"body",key:"body",liquid:!0,expandRows:Boolean(f.options.expandRows),chunks:[{key:"axis",content:function(S){return p("div",{className:"fc-timegrid-axis-chunk"},p("table",{"aria-hidden":!0,style:{height:S.expandRows?S.clientHeight:""}},S.tableColGroupNode,p("tbody",null,p(qr,{slatMetas:s}))),p("div",{className:"fc-timegrid-now-indicator-container"},p(xe,{unit:m?"minute":"day"},function(C){var T=m&&l&&l.safeComputeTop(C);return typeof T=="number"?p(Pe,{isAxis:!0,date:C},function(N,k,b,M){return p("div",{ref:N,className:["fc-timegrid-now-indicator-arrow"].concat(k).join(" "),style:{top:T}},M)}):null})))}},{key:"cols",scrollerElRef:this.scrollerElRef,content:n}]}),g&&E.push({key:"footer",type:"footer",isSticky:!0,chunks:[{key:"axis",content:Ce},{key:"cols",content:Ce}]}),p(fe,{viewSpec:f.viewSpec,elRef:this.rootElRef},function(S,C){return p("div",{className:["fc-timegrid"].concat(C).join(" "),ref:S},p(u,{liquid:!v.isHeightAuto&&!v.forPrint,collapsibleWidth:!1,colGroups:[{width:"shrink",cols:[{width:"shrink"}]},{cols:[{span:i,minWidth:o}]}],sections:E}))})},r.prototype.getAllDayMaxEventProps=function(){var e=this.context.options,t=e.dayMaxEvents,n=e.dayMaxEventRows;return(t===!0||n===!0)&&(t=void 0,n=Xr),{dayMaxEvents:t,dayMaxEventRows:n}},r}($);function Kr(a){return a.text}var _r=function(){function a(r,e,t){this.positions=r,this.dateProfile=e,this.slotDuration=t}return a.prototype.safeComputeTop=function(r){var e=this.dateProfile;if(xn(e.currentRange,r)){var t=Ne(r),n=r.valueOf()-t.valueOf();if(n>=te(e.slotMinTime)&&n<te(e.slotMaxTime))return this.computeTimeTop(ee(n))}return null},a.prototype.computeDateTop=function(r,e){return e||(e=Ne(r)),this.computeTimeTop(ee(r.valueOf()-e.valueOf()))},a.prototype.computeTimeTop=function(r){var e=this,t=e.positions,n=e.dateProfile,i=t.els.length,o=(r.milliseconds-te(n.slotMinTime))/te(this.slotDuration),s,l;return o=Math.max(0,o),o=Math.min(i,o),s=Math.floor(o),s=Math.min(s,i-1),l=o-s,t.tops[s]+t.getHeight(s)*l},a}(),Zr=function(a){P(r,a);function r(){return a!==null&&a.apply(this,arguments)||this}return r.prototype.render=function(){var e=this,t=e.props,n=e.context,i=n.options,o=t.slatElRefs;return p("tbody",null,t.slatMetas.map(function(s,l){var d={time:s.time,date:n.dateEnv.toDate(s.date),view:n.viewApi},u=["fc-timegrid-slot","fc-timegrid-slot-lane",s.isLabeled?"":"fc-timegrid-slot-minor"];return p("tr",{key:s.key,ref:o.createRef(s.key)},t.axis&&p(Vt,D({},s)),p(Me,{hookProps:d,classNames:i.slotLaneClassNames,content:i.slotLaneContent,didMount:i.slotLaneDidMount,willUnmount:i.slotLaneWillUnmount},function(c,f,v,h){return p("td",{ref:c,className:u.concat(f).join(" "),"data-time":s.isoTimeStr},h)}))}))},r}(O),Qr=function(a){P(r,a);function r(){var e=a!==null&&a.apply(this,arguments)||this;return e.rootElRef=V(),e.slatElRefs=new Z,e}return r.prototype.render=function(){var e=this,t=e.props,n=e.context;return p("div",{ref:this.rootElRef,className:"fc-timegrid-slots"},p("table",{"aria-hidden":!0,className:n.theme.getClass("table"),style:{minWidth:t.tableMinWidth,width:t.clientWidth,height:t.minHeight}},t.tableColGroupNode,p(Zr,{slatElRefs:this.slatElRefs,axis:t.axis,slatMetas:t.slatMetas})))},r.prototype.componentDidMount=function(){this.updateSizing()},r.prototype.componentDidUpdate=function(){this.updateSizing()},r.prototype.componentWillUnmount=function(){this.props.onCoords&&this.props.onCoords(null)},r.prototype.updateSizing=function(){var e=this,t=e.context,n=e.props;if(n.onCoords&&n.clientWidth!==null){var i=this.rootElRef.current;i.offsetHeight&&n.onCoords(new _r(new oe(this.rootElRef.current,Jr(this.slatElRefs.currentMap,n.slatMetas),!1,!0),this.props.dateProfile,t.options.slotDuration))}},r}(O);function Jr(a,r){return r.map(function(e){return a[e.key]})}function ie(a,r){var e=[],t;for(t=0;t<r;t+=1)e.push([]);if(a)for(t=0;t<a.length;t+=1)e[a[t].col].push(a[t]);return e}function Ft(a,r){var e=[];if(a){for(var t=0;t<r;t+=1)e[t]={affectedInstances:a.affectedInstances,isEvent:a.isEvent,segs:[]};for(var n=0,i=a.segs;n<i.length;n++){var o=i[n];e[o.col].segs.push(o)}}else for(var t=0;t<r;t+=1)e[t]=null;return e}var ea=function(a){P(r,a);function r(){var e=a!==null&&a.apply(this,arguments)||this;return e.rootElRef=V(),e}return r.prototype.render=function(){var e=this,t=this.props;return p(ot,{allDayDate:null,moreCnt:t.hiddenSegs.length,allSegs:t.hiddenSegs,hiddenSegs:t.hiddenSegs,alignmentElRef:this.rootElRef,defaultContent:ta,extraDateSpan:t.extraDateSpan,dateProfile:t.dateProfile,todayRange:t.todayRange,popoverContent:function(){return zt(t.hiddenSegs,t)}},function(n,i,o,s,l,d,u,c){return p("a",{ref:function(f){ve(n,f),ve(e.rootElRef,f)},className:["fc-timegrid-more-link"].concat(i).join(" "),style:{top:t.top,bottom:t.bottom},onClick:l,title:d,"aria-expanded":u,"aria-controls":c},p("div",{ref:o,className:"fc-timegrid-more-link-inner fc-sticky"},s))})},r}(O);function ta(a){return a.shortText}function na(a,r,e){var t=new lt;r!=null&&(t.strictOrder=r),e!=null&&(t.maxStackCnt=e);var n=t.addSegs(a),i=Mn(n),o=ra(t);o=sa(o,1);var s=la(o);return{segRects:s,hiddenGroups:i}}function ra(a){var r=a.entriesByLevel,e=Ve(function(t,n){return t+":"+n},function(t,n){var i=ia(a,t,n),o=Ot(i,e),s=r[t][n];return[D(D({},s),{nextLevelNodes:o[0]}),s.thickness+o[1]]});return Ot(r.length?{level:0,lateralStart:0,lateralEnd:r[0].length}:null,e)[0]}function Ot(a,r){if(!a)return[[],0];for(var e=a.level,t=a.lateralStart,n=a.lateralEnd,i=t,o=[];i<n;)o.push(r(e,i)),i+=1;return o.sort(aa),[o.map(oa),o[0][1]]}function aa(a,r){return r[1]-a[1]}function oa(a){return a[0]}function ia(a,r,e){for(var t=a.levelCoords,n=a.entriesByLevel,i=n[r][e],o=t[r]+i.thickness,s=t.length,l=r;l<s&&t[l]<o;l+=1);for(;l<s;l+=1){for(var d=n[l],u=void 0,c=Pn(d,i.span.start,kn),f=c[0]+c[1],v=f;(u=d[v])&&u.span.start<i.span.end;)v+=1;if(f<v)return{level:l,lateralStart:f,lateralEnd:v}}return null}function sa(a,r){var e=Ve(function(t,n,i){return ae(t)},function(t,n,i){var o=t.nextLevelNodes,s=t.thickness,l=s+i,d=s/l,u,c=[];if(!o.length)u=r;else for(var f=0,v=o;f<v.length;f++){var h=v[f];if(u===void 0){var g=e(h,n,l);u=g[0],c.push(g[1])}else{var g=e(h,u,0);c.push(g[1])}}var E=(u-n)*d;return[u-E,D(D({},t),{thickness:E,nextLevelNodes:c})]});return a.map(function(t){return e(t,0,0)[1]})}function la(a){var r=[],e=Ve(function(n,i,o){return ae(n)},function(n,i,o){var s=D(D({},n),{levelCoord:i,stackDepth:o,stackForward:0});return r.push(s),s.stackForward=t(n.nextLevelNodes,i+n.thickness,o+1)+1});function t(n,i,o){for(var s=0,l=0,d=n;l<d.length;l++){var u=d[l];s=Math.max(e(u,i,o),s)}return s}return t(a,0,0),r}function Ve(a,r){var e={};return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var i=a.apply(void 0,t);return i in e?e[i]:e[i]=r.apply(void 0,t)}}function Gt(a,r,e,t){e===void 0&&(e=null),t===void 0&&(t=0);var n=[];if(e)for(var i=0;i<a.length;i+=1){var o=a[i],s=e.computeDateTop(o.start,r),l=Math.max(s+(t||0),e.computeDateTop(o.end,r));n.push({start:Math.round(s),end:Math.round(l)})}return n}function da(a,r,e,t){for(var n=[],i=[],o=0;o<a.length;o+=1){var s=r[o];s?n.push({index:o,thickness:1,span:s}):i.push(a[o])}for(var l=na(n,e,t),d=l.segRects,u=l.hiddenGroups,c=[],f=0,v=d;f<v.length;f++){var h=v[f];c.push({seg:a[h.index],rect:h})}for(var g=0,E=i;g<E.length;g++){var m=E[g];c.push({seg:m,rect:null})}return{segPlacements:c,hiddenGroups:u}}var ua=_({hour:"numeric",minute:"2-digit",meridiem:!1}),Ut=function(a){P(r,a);function r(){return a!==null&&a.apply(this,arguments)||this}return r.prototype.render=function(){var e=["fc-timegrid-event","fc-v-event"];return this.props.isShort&&e.push("fc-timegrid-event-short"),p(at,D({},this.props,{defaultTimeFormat:ua,extraClassNames:e}))},r}(O),ca=function(a){P(r,a);function r(){return a!==null&&a.apply(this,arguments)||this}return r.prototype.render=function(){var e=this.props;return p(rt,{date:e.date,dateProfile:e.dateProfile,todayRange:e.todayRange,extraHookProps:e.extraHookProps},function(t,n){return n&&p("div",{className:"fc-timegrid-col-misc",ref:t},n)})},r}(O),pa=function(a){P(r,a);function r(){var e=a!==null&&a.apply(this,arguments)||this;return e.sortEventSegs=H(dt),e}return r.prototype.render=function(){var e=this,t=this,n=t.props,i=t.context,o=i.options.selectMirror,s=n.eventDrag&&n.eventDrag.segs||n.eventResize&&n.eventResize.segs||o&&n.dateSelectionSegs||[],l=n.eventDrag&&n.eventDrag.affectedInstances||n.eventResize&&n.eventResize.affectedInstances||{},d=this.sortEventSegs(n.fgEventSegs,i.options.eventOrder);return p(it,{elRef:n.elRef,date:n.date,dateProfile:n.dateProfile,todayRange:n.todayRange,extraHookProps:n.extraHookProps},function(u,c,f){return p("td",D({ref:u,role:"gridcell",className:["fc-timegrid-col"].concat(c,n.extraClassNames||[]).join(" ")},f,n.extraDataAttrs),p("div",{className:"fc-timegrid-col-frame"},p("div",{className:"fc-timegrid-col-bg"},e.renderFillSegs(n.businessHourSegs,"non-business"),e.renderFillSegs(n.bgEventSegs,"bg-event"),e.renderFillSegs(n.dateSelectionSegs,"highlight")),p("div",{className:"fc-timegrid-col-events"},e.renderFgSegs(d,l,!1,!1,!1)),p("div",{className:"fc-timegrid-col-events"},e.renderFgSegs(s,{},Boolean(n.eventDrag),Boolean(n.eventResize),Boolean(o))),p("div",{className:"fc-timegrid-now-indicator-container"},e.renderNowIndicator(n.nowIndicatorSegs)),p(ca,{date:n.date,dateProfile:n.dateProfile,todayRange:n.todayRange,extraHookProps:n.extraHookProps})))})},r.prototype.renderFgSegs=function(e,t,n,i,o){var s=this.props;return s.forPrint?zt(e,s):this.renderPositionedFgSegs(e,t,n,i,o)},r.prototype.renderPositionedFgSegs=function(e,t,n,i,o){var s=this,l=this.context.options,d=l.eventMaxStack,u=l.eventShortHeight,c=l.eventOrderStrict,f=l.eventMinHeight,v=this.props,h=v.date,g=v.slatCoords,E=v.eventSelection,m=v.todayRange,S=v.nowDate,C=n||i||o,T=Gt(e,h,g,f),N=da(e,T,c,d),k=N.segPlacements,b=N.hiddenGroups;return p(W,null,this.renderHiddenGroups(b,e),k.map(function(M){var G=M.seg,A=M.rect,q=G.eventRange.instance.instanceId,B=C||Boolean(!t[q]&&A),w=Fe(A&&A.span),y=!C&&A?s.computeSegHStyle(A):{left:0,right:0},R=Boolean(A)&&A.stackForward>0,L=Boolean(A)&&A.span.end-A.span.start<u;return p("div",{className:"fc-timegrid-event-harness"+(R?" fc-timegrid-event-harness-inset":""),key:q,style:D(D({visibility:B?"":"hidden"},w),y)},p(Ut,D({seg:G,isDragging:n,isResizing:i,isDateSelecting:o,isSelected:q===E,isShort:L},K(G,m,S))))}))},r.prototype.renderHiddenGroups=function(e,t){var n=this.props,i=n.extraDateSpan,o=n.dateProfile,s=n.todayRange,l=n.nowDate,d=n.eventSelection,u=n.eventDrag,c=n.eventResize;return p(W,null,e.map(function(f){var v=Fe(f.span),h=fa(f.entries,t);return p(ea,{key:bn(Rn(h)),hiddenSegs:h,top:v.top,bottom:v.bottom,extraDateSpan:i,dateProfile:o,todayRange:s,nowDate:l,eventSelection:d,eventDrag:u,eventResize:c})}))},r.prototype.renderFillSegs=function(e,t){var n=this,i=n.props,o=n.context,s=Gt(e,i.date,i.slatCoords,o.options.eventMinHeight),l=s.map(function(d,u){var c=e[u];return p("div",{key:ct(c.eventRange),className:"fc-timegrid-bg-harness",style:Fe(d)},t==="bg-event"?p(pt,D({seg:c},K(c,i.todayRange,i.nowDate))):ft(t))});return p(W,null,l)},r.prototype.renderNowIndicator=function(e){var t=this.props,n=t.slatCoords,i=t.date;return n?e.map(function(o,s){return p(Pe,{isAxis:!1,date:i,key:s},function(l,d,u,c){return p("div",{ref:l,className:["fc-timegrid-now-indicator-line"].concat(d).join(" "),style:{top:n.computeDateTop(o.start,i)}},c)})}):null},r.prototype.computeSegHStyle=function(e){var t=this.context,n=t.isRtl,i=t.options,o=i.slotEventOverlap,s=e.levelCoord,l=e.levelCoord+e.thickness,d,u;o&&(l=Math.min(1,s+(l-s)*2)),n?(d=1-l,u=s):(d=s,u=1-l);var c={zIndex:e.stackDepth+1,left:d*100+"%",right:u*100+"%"};return o&&!e.stackForward&&(c[n?"marginLeft":"marginRight"]=10*2),c},r}(O);function zt(a,r){var e=r.todayRange,t=r.nowDate,n=r.eventSelection,i=r.eventDrag,o=r.eventResize,s=(i?i.affectedInstances:null)||(o?o.affectedInstances:null)||{};return p(W,null,a.map(function(l){var d=l.eventRange.instance.instanceId;return p("div",{key:d,style:{visibility:s[d]?"hidden":""}},p(Ut,D({seg:l,isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:d===n,isShort:!1},K(l,e,t))))}))}function Fe(a){return a?{top:a.start,bottom:-a.end}:{top:"",bottom:""}}function fa(a,r){return a.map(function(e){return r[e.index]})}var va=function(a){P(r,a);function r(){var e=a!==null&&a.apply(this,arguments)||this;return e.splitFgEventSegs=H(ie),e.splitBgEventSegs=H(ie),e.splitBusinessHourSegs=H(ie),e.splitNowIndicatorSegs=H(ie),e.splitDateSelectionSegs=H(ie),e.splitEventDrag=H(Ft),e.splitEventResize=H(Ft),e.rootElRef=V(),e.cellElRefs=new Z,e}return r.prototype.render=function(){var e=this,t=this,n=t.props,i=t.context,o=i.options.nowIndicator&&n.slatCoords&&n.slatCoords.safeComputeTop(n.nowDate),s=n.cells.length,l=this.splitFgEventSegs(n.fgEventSegs,s),d=this.splitBgEventSegs(n.bgEventSegs,s),u=this.splitBusinessHourSegs(n.businessHourSegs,s),c=this.splitNowIndicatorSegs(n.nowIndicatorSegs,s),f=this.splitDateSelectionSegs(n.dateSelectionSegs,s),v=this.splitEventDrag(n.eventDrag,s),h=this.splitEventResize(n.eventResize,s);return p("div",{className:"fc-timegrid-cols",ref:this.rootElRef},p("table",{role:"presentation",style:{minWidth:n.tableMinWidth,width:n.clientWidth}},n.tableColGroupNode,p("tbody",{role:"presentation"},p("tr",{role:"row"},n.axis&&p("td",{"aria-hidden":!0,className:"fc-timegrid-col fc-timegrid-axis"},p("div",{className:"fc-timegrid-col-frame"},p("div",{className:"fc-timegrid-now-indicator-container"},typeof o=="number"&&p(Pe,{isAxis:!0,date:n.nowDate},function(g,E,m,S){return p("div",{ref:g,className:["fc-timegrid-now-indicator-arrow"].concat(E).join(" "),style:{top:o}},S)})))),n.cells.map(function(g,E){return p(pa,{key:g.key,elRef:e.cellElRefs.createRef(g.key),dateProfile:n.dateProfile,date:g.date,nowDate:n.nowDate,todayRange:n.todayRange,extraHookProps:g.extraHookProps,extraDataAttrs:g.extraDataAttrs,extraClassNames:g.extraClassNames,extraDateSpan:g.extraDateSpan,fgEventSegs:l[E],bgEventSegs:d[E],businessHourSegs:u[E],nowIndicatorSegs:c[E],dateSelectionSegs:f[E],eventDrag:v[E],eventResize:h[E],slatCoords:n.slatCoords,eventSelection:n.eventSelection,forPrint:n.forPrint})})))))},r.prototype.componentDidMount=function(){this.updateCoords()},r.prototype.componentDidUpdate=function(){this.updateCoords()},r.prototype.updateCoords=function(){var e=this.props;e.onColCoords&&e.clientWidth!==null&&e.onColCoords(new oe(this.rootElRef.current,ha(this.cellElRefs.currentMap,e.cells),!0,!1))},r}(O);function ha(a,r){return r.map(function(e){return a[e.key]})}var ga=function(a){P(r,a);function r(){var e=a!==null&&a.apply(this,arguments)||this;return e.processSlotOptions=H(ma),e.state={slatCoords:null},e.handleRootEl=function(t){t?e.context.registerInteractiveComponent(e,{el:t,isHitComboAllowed:e.props.isHitComboAllowed}):e.context.unregisterInteractiveComponent(e)},e.handleScrollRequest=function(t){var n=e.props.onScrollTopRequest,i=e.state.slatCoords;if(n&&i){if(t.time){var o=i.computeTimeTop(t.time);o=Math.ceil(o),o&&(o+=1),n(o)}return!0}return!1},e.handleColCoords=function(t){e.colCoords=t},e.handleSlatCoords=function(t){e.setState({slatCoords:t}),e.props.onSlatCoords&&e.props.onSlatCoords(t)},e}return r.prototype.render=function(){var e=this,t=e.props,n=e.state;return p("div",{className:"fc-timegrid-body",ref:this.handleRootEl,style:{width:t.clientWidth,minWidth:t.tableMinWidth}},p(Qr,{axis:t.axis,dateProfile:t.dateProfile,slatMetas:t.slatMetas,clientWidth:t.clientWidth,minHeight:t.expandRows?t.clientHeight:"",tableMinWidth:t.tableMinWidth,tableColGroupNode:t.axis?t.tableColGroupNode:null,onCoords:this.handleSlatCoords}),p(va,{cells:t.cells,axis:t.axis,dateProfile:t.dateProfile,businessHourSegs:t.businessHourSegs,bgEventSegs:t.bgEventSegs,fgEventSegs:t.fgEventSegs,dateSelectionSegs:t.dateSelectionSegs,eventSelection:t.eventSelection,eventDrag:t.eventDrag,eventResize:t.eventResize,todayRange:t.todayRange,nowDate:t.nowDate,nowIndicatorSegs:t.nowIndicatorSegs,clientWidth:t.clientWidth,tableMinWidth:t.tableMinWidth,tableColGroupNode:t.tableColGroupNode,slatCoords:n.slatCoords,onColCoords:this.handleColCoords,forPrint:t.forPrint}))},r.prototype.componentDidMount=function(){this.scrollResponder=this.context.createScrollResponder(this.handleScrollRequest)},r.prototype.componentDidUpdate=function(e){this.scrollResponder.update(e.dateProfile!==this.props.dateProfile)},r.prototype.componentWillUnmount=function(){this.scrollResponder.detach()},r.prototype.queryHit=function(e,t){var n=this.context,i=n.dateEnv,o=n.options,s=this.colCoords,l=this.props.dateProfile,d=this.state.slatCoords,u=this.processSlotOptions(this.props.slotDuration,o.snapDuration),c=u.snapDuration,f=u.snapsPerSlot,v=s.leftToIndex(e),h=d.positions.topToIndex(t);if(v!=null&&h!=null){var g=this.props.cells[v],E=d.positions.tops[h],m=d.positions.getHeight(h),S=(t-E)/m,C=Math.floor(S*f),T=h*f+C,N=this.props.cells[v].date,k=ke(l.slotMinTime,wn(c,T)),b=i.add(N,k),M=i.add(b,c);return{dateProfile:l,dateSpan:D({range:{start:b,end:M},allDay:!1},g.extraDateSpan),dayEl:s.els[v],rect:{left:s.lefts[v],right:s.rights[v],top:E,bottom:E+m},layer:0}}return null},r}($);function ma(a,r){var e=r||a,t=Ie(a,e);return t===null&&(e=a,t=1),{snapDuration:e,snapsPerSlot:t}}var ya=function(a){P(r,a);function r(){return a!==null&&a.apply(this,arguments)||this}return r.prototype.sliceRange=function(e,t){for(var n=[],i=0;i<t.length;i+=1){var o=Et(e,t[i]);o&&n.push({start:o.start,end:o.end,isStart:o.start.valueOf()===e.start.valueOf(),isEnd:o.end.valueOf()===e.end.valueOf(),col:i})}return n},r}(ht),Sa=function(a){P(r,a);function r(){var e=a!==null&&a.apply(this,arguments)||this;return e.buildDayRanges=H(Ea),e.slicer=new ya,e.timeColsRef=V(),e}return r.prototype.render=function(){var e=this,t=this,n=t.props,i=t.context,o=n.dateProfile,s=n.dayTableModel,l=i.options.nowIndicator,d=this.buildDayRanges(s,o,i.dateEnv);return p(xe,{unit:l?"minute":"day"},function(u,c){return p(ga,D({ref:e.timeColsRef},e.slicer.sliceProps(n,o,null,i,d),{forPrint:n.forPrint,axis:n.axis,dateProfile:o,slatMetas:n.slatMetas,slotDuration:n.slotDuration,cells:s.cells[0],tableColGroupNode:n.tableColGroupNode,tableMinWidth:n.tableMinWidth,clientWidth:n.clientWidth,clientHeight:n.clientHeight,expandRows:n.expandRows,nowDate:u,nowIndicatorSegs:l&&e.slicer.sliceNowDate(u,i,d),todayRange:c,onScrollTopRequest:n.onScrollTopRequest,onSlatCoords:n.onSlatCoords}))})},r}($);function Ea(a,r,e){for(var t=[],n=0,i=a.headerDates;n<i.length;n++){var o=i[n];t.push({start:e.add(o,r.slotMinTime),end:e.add(o,r.slotMaxTime)})}return t}var qt=[{hours:1},{minutes:30},{minutes:15},{seconds:30},{seconds:15}];function Da(a,r,e,t,n){for(var i=new Date(0),o=a,s=ee(0),l=e||ba(t),d=[];te(o)<te(r);){var u=n.add(i,o),c=Ie(s,l)!==null;d.push({date:u,time:o,key:u.toISOString(),isoTimeStr:Tn(u),isLabeled:c}),o=ke(o,t),s=ke(s,t)}return d}function ba(a){var r,e,t;for(r=qt.length-1;r>=0;r-=1)if(e=ee(qt[r]),t=Ie(e,a),t!==null&&t>1)return e;return a}var Ra=function(a){P(r,a);function r(){var e=a!==null&&a.apply(this,arguments)||this;return e.buildTimeColsModel=H(wa),e.buildSlatMetas=H(Da),e}return r.prototype.render=function(){var e=this,t=this.context,n=t.options,i=t.dateEnv,o=t.dateProfileGenerator,s=this.props,l=s.dateProfile,d=this.buildTimeColsModel(l,o),u=this.allDaySplitter.splitProps(s),c=this.buildSlatMetas(l.slotMinTime,l.slotMaxTime,n.slotLabelInterval,n.slotDuration,i),f=n.dayMinWidth,v=!f,h=f,g=n.dayHeaders&&p(gt,{dates:d.headerDates,dateProfile:l,datesRepDistinctDays:!0,renderIntro:v?this.renderHeadAxis:null}),E=n.allDaySlot!==!1&&function(S){return p(Bt,D({},u.allDay,{dateProfile:l,dayTableModel:d,nextDayThreshold:n.nextDayThreshold,tableMinWidth:S.tableMinWidth,colGroupNode:S.tableColGroupNode,renderRowIntro:v?e.renderTableRowAxis:null,showWeekNumbers:!1,expandRows:!1,headerAlignElRef:e.headerElRef,clientWidth:S.clientWidth,clientHeight:S.clientHeight,forPrint:s.forPrint},e.getAllDayMaxEventProps()))},m=function(S){return p(Sa,D({},u.timed,{dayTableModel:d,dateProfile:l,axis:v,slotDuration:n.slotDuration,slatMetas:c,forPrint:s.forPrint,tableColGroupNode:S.tableColGroupNode,tableMinWidth:S.tableMinWidth,clientWidth:S.clientWidth,clientHeight:S.clientHeight,onSlatCoords:e.handleSlatCoords,expandRows:S.expandRows,onScrollTopRequest:e.handleScrollTopRequest}))};return h?this.renderHScrollLayout(g,E,m,d.colCnt,f,c,this.state.slatCoords):this.renderSimpleLayout(g,E,m)},r}($r);function wa(a,r){var e=new mt(a.renderRange,r);return new yt(e,!1)}var Ca={allDaySlot:Boolean},Ta=ce({initialView:"timeGridWeek",optionRefiners:Ca,views:{timeGrid:{component:Ra,usesMinMaxTime:!0,allDaySlot:!0,slotDuration:"00:30:00",slotEventOverlap:!0},timeGridDay:{type:"timeGrid",duration:{days:1}},timeGridWeek:{type:"timeGrid",duration:{weeks:1}}}});/*!
FullCalendar v5.10.1
Docs & License: https://fullcalendar.io/
(c) 2021 Adam Shaw
*/We.touchMouseIgnoreWait=500;var Oe=0,Ee=0,Ge=!1,Ue=function(){function a(r){var e=this;this.subjectEl=null,this.selector="",this.handleSelector="",this.shouldIgnoreMove=!1,this.shouldWatchScroll=!0,this.isDragging=!1,this.isTouchDragging=!1,this.wasTouchScroll=!1,this.handleMouseDown=function(t){if(!e.shouldIgnoreMouse()&&xa(t)&&e.tryStart(t)){var n=e.createEventFromMouse(t,!0);e.emitter.trigger("pointerdown",n),e.initScrollWatch(n),e.shouldIgnoreMove||document.addEventListener("mousemove",e.handleMouseMove),document.addEventListener("mouseup",e.handleMouseUp)}},this.handleMouseMove=function(t){var n=e.createEventFromMouse(t);e.recordCoords(n),e.emitter.trigger("pointermove",n)},this.handleMouseUp=function(t){document.removeEventListener("mousemove",e.handleMouseMove),document.removeEventListener("mouseup",e.handleMouseUp),e.emitter.trigger("pointerup",e.createEventFromMouse(t)),e.cleanup()},this.handleTouchStart=function(t){if(e.tryStart(t)){e.isTouchDragging=!0;var n=e.createEventFromTouch(t,!0);e.emitter.trigger("pointerdown",n),e.initScrollWatch(n);var i=t.target;e.shouldIgnoreMove||i.addEventListener("touchmove",e.handleTouchMove),i.addEventListener("touchend",e.handleTouchEnd),i.addEventListener("touchcancel",e.handleTouchEnd),window.addEventListener("scroll",e.handleTouchScroll,!0)}},this.handleTouchMove=function(t){var n=e.createEventFromTouch(t);e.recordCoords(n),e.emitter.trigger("pointermove",n)},this.handleTouchEnd=function(t){if(e.isDragging){var n=t.target;n.removeEventListener("touchmove",e.handleTouchMove),n.removeEventListener("touchend",e.handleTouchEnd),n.removeEventListener("touchcancel",e.handleTouchEnd),window.removeEventListener("scroll",e.handleTouchScroll,!0),e.emitter.trigger("pointerup",e.createEventFromTouch(t)),e.cleanup(),e.isTouchDragging=!1,Ma()}},this.handleTouchScroll=function(){e.wasTouchScroll=!0},this.handleScroll=function(t){if(!e.shouldIgnoreMove){var n=window.pageXOffset-e.prevScrollX+e.prevPageX,i=window.pageYOffset-e.prevScrollY+e.prevPageY;e.emitter.trigger("pointermove",{origEvent:t,isTouch:e.isTouchDragging,subjectEl:e.subjectEl,pageX:n,pageY:i,deltaX:n-e.origPageX,deltaY:i-e.origPageY})}},this.containerEl=r,this.emitter=new xt,r.addEventListener("mousedown",this.handleMouseDown),r.addEventListener("touchstart",this.handleTouchStart,{passive:!0}),Pa()}return a.prototype.destroy=function(){this.containerEl.removeEventListener("mousedown",this.handleMouseDown),this.containerEl.removeEventListener("touchstart",this.handleTouchStart,{passive:!0}),ka()},a.prototype.tryStart=function(r){var e=this.querySubjectEl(r),t=r.target;return e&&(!this.handleSelector||Q(t,this.handleSelector))?(this.subjectEl=e,this.isDragging=!0,this.wasTouchScroll=!1,!0):!1},a.prototype.cleanup=function(){Ge=!1,this.isDragging=!1,this.subjectEl=null,this.destroyScrollWatch()},a.prototype.querySubjectEl=function(r){return this.selector?Q(r.target,this.selector):this.containerEl},a.prototype.shouldIgnoreMouse=function(){return Oe||this.isTouchDragging},a.prototype.cancelTouchScroll=function(){this.isDragging&&(Ge=!0)},a.prototype.initScrollWatch=function(r){this.shouldWatchScroll&&(this.recordCoords(r),window.addEventListener("scroll",this.handleScroll,!0))},a.prototype.recordCoords=function(r){this.shouldWatchScroll&&(this.prevPageX=r.pageX,this.prevPageY=r.pageY,this.prevScrollX=window.pageXOffset,this.prevScrollY=window.pageYOffset)},a.prototype.destroyScrollWatch=function(){this.shouldWatchScroll&&window.removeEventListener("scroll",this.handleScroll,!0)},a.prototype.createEventFromMouse=function(r,e){var t=0,n=0;return e?(this.origPageX=r.pageX,this.origPageY=r.pageY):(t=r.pageX-this.origPageX,n=r.pageY-this.origPageY),{origEvent:r,isTouch:!1,subjectEl:this.subjectEl,pageX:r.pageX,pageY:r.pageY,deltaX:t,deltaY:n}},a.prototype.createEventFromTouch=function(r,e){var t=r.touches,n,i,o=0,s=0;return t&&t.length?(n=t[0].pageX,i=t[0].pageY):(n=r.pageX,i=r.pageY),e?(this.origPageX=n,this.origPageY=i):(o=n-this.origPageX,s=i-this.origPageY),{origEvent:r,isTouch:!0,subjectEl:this.subjectEl,pageX:n,pageY:i,deltaX:o,deltaY:s}},a}();function xa(a){return a.button===0&&!a.ctrlKey}function Ma(){Oe+=1,setTimeout(function(){Oe-=1},We.touchMouseIgnoreWait)}function Pa(){Ee+=1,Ee===1&&window.addEventListener("touchmove",Yt,{passive:!1})}function ka(){Ee-=1,Ee||window.removeEventListener("touchmove",Yt,{passive:!1})}function Yt(a){Ge&&a.preventDefault()}var Ia=function(){function a(){this.isVisible=!1,this.sourceEl=null,this.mirrorEl=null,this.sourceElRect=null,this.parentNode=document.body,this.zIndex=9999,this.revertDuration=0}return a.prototype.start=function(r,e,t){this.sourceEl=r,this.sourceElRect=this.sourceEl.getBoundingClientRect(),this.origScreenX=e-window.pageXOffset,this.origScreenY=t-window.pageYOffset,this.deltaX=0,this.deltaY=0,this.updateElPosition()},a.prototype.handleMove=function(r,e){this.deltaX=r-window.pageXOffset-this.origScreenX,this.deltaY=e-window.pageYOffset-this.origScreenY,this.updateElPosition()},a.prototype.setIsVisible=function(r){r?this.isVisible||(this.mirrorEl&&(this.mirrorEl.style.display=""),this.isVisible=r,this.updateElPosition()):this.isVisible&&(this.mirrorEl&&(this.mirrorEl.style.display="none"),this.isVisible=r)},a.prototype.stop=function(r,e){var t=this,n=function(){t.cleanup(),e()};r&&this.mirrorEl&&this.isVisible&&this.revertDuration&&(this.deltaX||this.deltaY)?this.doRevertAnimation(n,this.revertDuration):setTimeout(n,0)},a.prototype.doRevertAnimation=function(r,e){var t=this.mirrorEl,n=this.sourceEl.getBoundingClientRect();t.style.transition="top "+e+"ms,left "+e+"ms",Be(t,{left:n.left,top:n.top}),zn(t,function(){t.style.transition="",r()})},a.prototype.cleanup=function(){this.mirrorEl&&(qn(this.mirrorEl),this.mirrorEl=null),this.sourceEl=null},a.prototype.updateElPosition=function(){this.sourceEl&&this.isVisible&&Be(this.getMirrorEl(),{left:this.sourceElRect.left+this.deltaX,top:this.sourceElRect.top+this.deltaY})},a.prototype.getMirrorEl=function(){var r=this.sourceElRect,e=this.mirrorEl;return e||(e=this.mirrorEl=this.sourceEl.cloneNode(!0),e.classList.add("fc-unselectable"),e.classList.add("fc-event-dragging"),Be(e,{position:"fixed",zIndex:this.zIndex,visibility:"",boxSizing:"border-box",width:r.right-r.left,height:r.bottom-r.top,right:"auto",bottom:"auto",margin:0}),this.parentNode.appendChild(e)),e},a}(),Xt=function(a){P(r,a);function r(e,t){var n=a.call(this)||this;return n.handleScroll=function(){n.scrollTop=n.scrollController.getScrollTop(),n.scrollLeft=n.scrollController.getScrollLeft(),n.handleScrollChange()},n.scrollController=e,n.doesListening=t,n.scrollTop=n.origScrollTop=e.getScrollTop(),n.scrollLeft=n.origScrollLeft=e.getScrollLeft(),n.scrollWidth=e.getScrollWidth(),n.scrollHeight=e.getScrollHeight(),n.clientWidth=e.getClientWidth(),n.clientHeight=e.getClientHeight(),n.clientRect=n.computeClientRect(),n.doesListening&&n.getEventTarget().addEventListener("scroll",n.handleScroll),n}return r.prototype.destroy=function(){this.doesListening&&this.getEventTarget().removeEventListener("scroll",this.handleScroll)},r.prototype.getScrollTop=function(){return this.scrollTop},r.prototype.getScrollLeft=function(){return this.scrollLeft},r.prototype.setScrollTop=function(e){this.scrollController.setScrollTop(e),this.doesListening||(this.scrollTop=Math.max(Math.min(e,this.getMaxScrollTop()),0),this.handleScrollChange())},r.prototype.setScrollLeft=function(e){this.scrollController.setScrollLeft(e),this.doesListening||(this.scrollLeft=Math.max(Math.min(e,this.getMaxScrollLeft()),0),this.handleScrollChange())},r.prototype.getClientWidth=function(){return this.clientWidth},r.prototype.getClientHeight=function(){return this.clientHeight},r.prototype.getScrollWidth=function(){return this.scrollWidth},r.prototype.getScrollHeight=function(){return this.scrollHeight},r.prototype.handleScrollChange=function(){},r}(In),$t=function(a){P(r,a);function r(e,t){return a.call(this,new Nn(e),t)||this}return r.prototype.getEventTarget=function(){return this.scrollController.el},r.prototype.computeClientRect=function(){return Hn(this.scrollController.el)},r}(Xt),Na=function(a){P(r,a);function r(e){return a.call(this,new An,e)||this}return r.prototype.getEventTarget=function(){return window},r.prototype.computeClientRect=function(){return{left:this.scrollLeft,right:this.scrollLeft+this.clientWidth,top:this.scrollTop,bottom:this.scrollTop+this.clientHeight}},r.prototype.handleScrollChange=function(){this.clientRect=this.computeClientRect()},r}(Xt),Kt=typeof performance=="function"?performance.now:Date.now,Ha=function(){function a(){var r=this;this.isEnabled=!0,this.scrollQuery=[window,".fc-scroller"],this.edgeThreshold=50,this.maxVelocity=300,this.pointerScreenX=null,this.pointerScreenY=null,this.isAnimating=!1,this.scrollCaches=null,this.everMovedUp=!1,this.everMovedDown=!1,this.everMovedLeft=!1,this.everMovedRight=!1,this.animate=function(){if(r.isAnimating){var e=r.computeBestEdge(r.pointerScreenX+window.pageXOffset,r.pointerScreenY+window.pageYOffset);if(e){var t=Kt();r.handleSide(e,(t-r.msSinceRequest)/1e3),r.requestAnimation(t)}else r.isAnimating=!1}}}return a.prototype.start=function(r,e,t){this.isEnabled&&(this.scrollCaches=this.buildCaches(t),this.pointerScreenX=null,this.pointerScreenY=null,this.everMovedUp=!1,this.everMovedDown=!1,this.everMovedLeft=!1,this.everMovedRight=!1,this.handleMove(r,e))},a.prototype.handleMove=function(r,e){if(this.isEnabled){var t=r-window.pageXOffset,n=e-window.pageYOffset,i=this.pointerScreenY===null?0:n-this.pointerScreenY,o=this.pointerScreenX===null?0:t-this.pointerScreenX;i<0?this.everMovedUp=!0:i>0&&(this.everMovedDown=!0),o<0?this.everMovedLeft=!0:o>0&&(this.everMovedRight=!0),this.pointerScreenX=t,this.pointerScreenY=n,this.isAnimating||(this.isAnimating=!0,this.requestAnimation(Kt()))}},a.prototype.stop=function(){if(this.isEnabled){this.isAnimating=!1;for(var r=0,e=this.scrollCaches;r<e.length;r++){var t=e[r];t.destroy()}this.scrollCaches=null}},a.prototype.requestAnimation=function(r){this.msSinceRequest=r,requestAnimationFrame(this.animate)},a.prototype.handleSide=function(r,e){var t=r.scrollCache,n=this.edgeThreshold,i=n-r.distance,o=i*i/(n*n)*this.maxVelocity*e,s=1;switch(r.name){case"left":s=-1;case"right":t.setScrollLeft(t.getScrollLeft()+o*s);break;case"top":s=-1;case"bottom":t.setScrollTop(t.getScrollTop()+o*s);break}},a.prototype.computeBestEdge=function(r,e){for(var t=this.edgeThreshold,n=null,i=0,o=this.scrollCaches;i<o.length;i++){var s=o[i],l=s.clientRect,d=r-l.left,u=l.right-r,c=e-l.top,f=l.bottom-e;d>=0&&u>=0&&c>=0&&f>=0&&(c<=t&&this.everMovedUp&&s.canScrollUp()&&(!n||n.distance>c)&&(n={scrollCache:s,name:"top",distance:c}),f<=t&&this.everMovedDown&&s.canScrollDown()&&(!n||n.distance>f)&&(n={scrollCache:s,name:"bottom",distance:f}),d<=t&&this.everMovedLeft&&s.canScrollLeft()&&(!n||n.distance>d)&&(n={scrollCache:s,name:"left",distance:d}),u<=t&&this.everMovedRight&&s.canScrollRight()&&(!n||n.distance>u)&&(n={scrollCache:s,name:"right",distance:u}))}return n},a.prototype.buildCaches=function(r){return this.queryScrollEls(r).map(function(e){return e===window?new Na(!1):new $t(e,!1)})},a.prototype.queryScrollEls=function(r){for(var e=[],t=0,n=this.scrollQuery;t<n.length;t++){var i=n[t];typeof i=="object"?e.push(i):e.push.apply(e,Array.prototype.slice.call(Ct(r).querySelectorAll(i)))}return e},a}(),se=function(a){P(r,a);function r(e,t){var n=a.call(this,e)||this;n.containerEl=e,n.delay=null,n.minDistance=0,n.touchScrollAllowed=!0,n.mirrorNeedsRevert=!1,n.isInteracting=!1,n.isDragging=!1,n.isDelayEnded=!1,n.isDistanceSurpassed=!1,n.delayTimeoutId=null,n.onPointerDown=function(o){n.isDragging||(n.isInteracting=!0,n.isDelayEnded=!1,n.isDistanceSurpassed=!1,Ln(document.body),jn(document.body),o.isTouch||o.origEvent.preventDefault(),n.emitter.trigger("pointerdown",o),n.isInteracting&&!n.pointer.shouldIgnoreMove&&(n.mirror.setIsVisible(!1),n.mirror.start(o.subjectEl,o.pageX,o.pageY),n.startDelay(o),n.minDistance||n.handleDistanceSurpassed(o)))},n.onPointerMove=function(o){if(n.isInteracting){if(n.emitter.trigger("pointermove",o),!n.isDistanceSurpassed){var s=n.minDistance,l=void 0,d=o.deltaX,u=o.deltaY;l=d*d+u*u,l>=s*s&&n.handleDistanceSurpassed(o)}n.isDragging&&(o.origEvent.type!=="scroll"&&(n.mirror.handleMove(o.pageX,o.pageY),n.autoScroller.handleMove(o.pageX,o.pageY)),n.emitter.trigger("dragmove",o))}},n.onPointerUp=function(o){n.isInteracting&&(n.isInteracting=!1,Wn(document.body),Bn(document.body),n.emitter.trigger("pointerup",o),n.isDragging&&(n.autoScroller.stop(),n.tryStopDrag(o)),n.delayTimeoutId&&(clearTimeout(n.delayTimeoutId),n.delayTimeoutId=null))};var i=n.pointer=new Ue(e);return i.emitter.on("pointerdown",n.onPointerDown),i.emitter.on("pointermove",n.onPointerMove),i.emitter.on("pointerup",n.onPointerUp),t&&(i.selector=t),n.mirror=new Ia,n.autoScroller=new Ha,n}return r.prototype.destroy=function(){this.pointer.destroy(),this.onPointerUp({})},r.prototype.startDelay=function(e){var t=this;typeof this.delay=="number"?this.delayTimeoutId=setTimeout(function(){t.delayTimeoutId=null,t.handleDelayEnd(e)},this.delay):this.handleDelayEnd(e)},r.prototype.handleDelayEnd=function(e){this.isDelayEnded=!0,this.tryStartDrag(e)},r.prototype.handleDistanceSurpassed=function(e){this.isDistanceSurpassed=!0,this.tryStartDrag(e)},r.prototype.tryStartDrag=function(e){this.isDelayEnded&&this.isDistanceSurpassed&&(!this.pointer.wasTouchScroll||this.touchScrollAllowed)&&(this.isDragging=!0,this.mirrorNeedsRevert=!1,this.autoScroller.start(e.pageX,e.pageY,this.containerEl),this.emitter.trigger("dragstart",e),this.touchScrollAllowed===!1&&this.pointer.cancelTouchScroll())},r.prototype.tryStopDrag=function(e){this.mirror.stop(this.mirrorNeedsRevert,this.stopDrag.bind(this,e))},r.prototype.stopDrag=function(e){this.isDragging=!1,this.emitter.trigger("dragend",e)},r.prototype.setIgnoreMove=function(e){this.pointer.shouldIgnoreMove=e},r.prototype.setMirrorIsVisible=function(e){this.mirror.setIsVisible(e)},r.prototype.setMirrorNeedsRevert=function(e){this.mirrorNeedsRevert=e},r.prototype.setAutoScrollEnabled=function(e){this.autoScroller.isEnabled=e},r}(Dt),Aa=function(){function a(r){this.origRect=Mt(r),this.scrollCaches=Jn(r).map(function(e){return new $t(e,!0)})}return a.prototype.destroy=function(){for(var r=0,e=this.scrollCaches;r<e.length;r++){var t=e[r];t.destroy()}},a.prototype.computeLeft=function(){for(var r=this.origRect.left,e=0,t=this.scrollCaches;e<t.length;e++){var n=t[e];r+=n.origScrollLeft-n.getScrollLeft()}return r},a.prototype.computeTop=function(){for(var r=this.origRect.top,e=0,t=this.scrollCaches;e<t.length;e++){var n=t[e];r+=n.origScrollTop-n.getScrollTop()}return r},a.prototype.isWithinClipping=function(r,e){for(var t={left:r,top:e},n=0,i=this.scrollCaches;n<i.length;n++){var o=i[n];if(!La(o.getEventTarget())&&!er(t,o.clientRect))return!1}return!0},a}();function La(a){var r=a.tagName;return r==="HTML"||r==="BODY"}var De=function(){function a(r,e){var t=this;this.useSubjectCenter=!1,this.requireInitial=!0,this.initialHit=null,this.movingHit=null,this.finalHit=null,this.handlePointerDown=function(n){var i=t.dragging;t.initialHit=null,t.movingHit=null,t.finalHit=null,t.prepareHits(),t.processFirstCoord(n),t.initialHit||!t.requireInitial?(i.setIgnoreMove(!1),t.emitter.trigger("pointerdown",n)):i.setIgnoreMove(!0)},this.handleDragStart=function(n){t.emitter.trigger("dragstart",n),t.handleMove(n,!0)},this.handleDragMove=function(n){t.emitter.trigger("dragmove",n),t.handleMove(n)},this.handlePointerUp=function(n){t.releaseHits(),t.emitter.trigger("pointerup",n)},this.handleDragEnd=function(n){t.movingHit&&t.emitter.trigger("hitupdate",null,!0,n),t.finalHit=t.movingHit,t.movingHit=null,t.emitter.trigger("dragend",n)},this.droppableStore=e,r.emitter.on("pointerdown",this.handlePointerDown),r.emitter.on("dragstart",this.handleDragStart),r.emitter.on("dragmove",this.handleDragMove),r.emitter.on("pointerup",this.handlePointerUp),r.emitter.on("dragend",this.handleDragEnd),this.dragging=r,this.emitter=new xt}return a.prototype.processFirstCoord=function(r){var e={left:r.pageX,top:r.pageY},t=e,n=r.subjectEl,i;n instanceof HTMLElement&&(i=Mt(n),t=Yn(t,i));var o=this.initialHit=this.queryHitForOffset(t.left,t.top);if(o){if(this.useSubjectCenter&&i){var s=Xn(i,o.rect);s&&(t=$n(s))}this.coordAdjust=Kn(t,e)}else this.coordAdjust={left:0,top:0}},a.prototype.handleMove=function(r,e){var t=this.queryHitForOffset(r.pageX+this.coordAdjust.left,r.pageY+this.coordAdjust.top);(e||!be(this.movingHit,t))&&(this.movingHit=t,this.emitter.trigger("hitupdate",t,!1,r))},a.prototype.prepareHits=function(){this.offsetTrackers=_n(this.droppableStore,function(r){return r.component.prepareHits(),new Aa(r.el)})},a.prototype.releaseHits=function(){var r=this.offsetTrackers;for(var e in r)r[e].destroy();this.offsetTrackers={}},a.prototype.queryHitForOffset=function(r,e){var t=this,n=t.droppableStore,i=t.offsetTrackers,o=null;for(var s in n){var l=n[s].component,d=i[s];if(d&&d.isWithinClipping(r,e)){var u=d.computeLeft(),c=d.computeTop(),f=r-u,v=e-c,h=d.origRect,g=h.right-h.left,E=h.bottom-h.top;if(f>=0&&f<g&&v>=0&&v<E){var m=l.queryHit(f,v,g,E);m&&Zn(m.dateProfile.activeRange,m.dateSpan.range)&&(!o||m.layer>o.layer)&&(m.componentId=s,m.context=l.context,m.rect.left+=u,m.rect.right+=u,m.rect.top+=c,m.rect.bottom+=c,o=m)}}}return o},a}();function be(a,r){return!a&&!r?!0:Boolean(a)!==Boolean(r)?!1:Gn(a.dateSpan,r.dateSpan)}function _t(a,r){for(var e={},t=0,n=r.pluginHooks.datePointTransforms;t<n.length;t++){var i=n[t];D(e,i(a,r))}return D(e,ja(a,r.dateEnv)),e}function ja(a,r){return{date:r.toDate(a.range.start),dateStr:r.formatIso(a.range.start,{omitTime:a.allDay}),allDay:a.allDay}}var Wa=function(a){P(r,a);function r(e){var t=a.call(this,e)||this;t.handlePointerDown=function(i){var o=t.dragging,s=i.origEvent.target;o.setIgnoreMove(!t.component.isValidDateDownEl(s))},t.handleDragEnd=function(i){var o=t.component,s=t.dragging.pointer;if(!s.wasTouchScroll){var l=t.hitDragging,d=l.initialHit,u=l.finalHit;if(d&&u&&be(d,u)){var c=o.context,f=D(D({},_t(d.dateSpan,c)),{dayEl:d.dayEl,jsEvent:i.origEvent,view:c.viewApi||c.calendarApi.view});c.emitter.trigger("dateClick",f)}}},t.dragging=new se(e.el),t.dragging.autoScroller.isEnabled=!1;var n=t.hitDragging=new De(t.dragging,He(e));return n.emitter.on("pointerdown",t.handlePointerDown),n.emitter.on("dragend",t.handleDragEnd),t}return r.prototype.destroy=function(){this.dragging.destroy()},r}(he),Ba=function(a){P(r,a);function r(e){var t=a.call(this,e)||this;t.dragSelection=null,t.handlePointerDown=function(l){var d=t,u=d.component,c=d.dragging,f=u.context.options,v=f.selectable&&u.isValidDateDownEl(l.origEvent.target);c.setIgnoreMove(!v),c.delay=l.isTouch?Va(u):null},t.handleDragStart=function(l){t.component.context.calendarApi.unselect(l)},t.handleHitUpdate=function(l,d){var u=t.component.context,c=null,f=!1;if(l){var v=t.hitDragging.initialHit,h=l.componentId===v.componentId&&t.isHitComboAllowed&&!t.isHitComboAllowed(v,l);h||(c=Fa(v,l,u.pluginHooks.dateSelectionTransformers)),(!c||!Vn(c,l.dateProfile,u))&&(f=!0,c=null)}c?u.dispatch({type:"SELECT_DATES",selection:c}):d||u.dispatch({type:"UNSELECT_DATES"}),f?Le():Ae(),d||(t.dragSelection=c)},t.handlePointerUp=function(l){t.dragSelection&&(Fn(t.dragSelection,l,t.component.context),t.dragSelection=null)};var n=e.component,i=n.context.options,o=t.dragging=new se(e.el);o.touchScrollAllowed=!1,o.minDistance=i.selectMinDistance||0,o.autoScroller.isEnabled=i.dragScroll;var s=t.hitDragging=new De(t.dragging,He(e));return s.emitter.on("pointerdown",t.handlePointerDown),s.emitter.on("dragstart",t.handleDragStart),s.emitter.on("hitupdate",t.handleHitUpdate),s.emitter.on("pointerup",t.handlePointerUp),t}return r.prototype.destroy=function(){this.dragging.destroy()},r}(he);function Va(a){var r=a.context.options,e=r.selectLongPressDelay;return e==null&&(e=r.longPressDelay),e}function Fa(a,r,e){var t=a.dateSpan,n=r.dateSpan,i=[t.range.start,t.range.end,n.range.start,n.range.end];i.sort(Un);for(var o={},s=0,l=e;s<l.length;s++){var d=l[s],u=d(a,r);if(u===!1)return null;u&&D(o,u)}return o.range={start:i[0],end:i[3]},o.allDay=t.allDay,o}var Zt=function(a){P(r,a);function r(e){var t=a.call(this,e)||this;t.subjectEl=null,t.subjectSeg=null,t.isDragging=!1,t.eventRange=null,t.relevantEvents=null,t.receivingContext=null,t.validMutation=null,t.mutatedRelevantEvents=null,t.handlePointerDown=function(l){var d=l.origEvent.target,u=t,c=u.component,f=u.dragging,v=f.mirror,h=c.context.options,g=c.context;t.subjectEl=l.subjectEl;var E=t.subjectSeg=je(l.subjectEl),m=t.eventRange=E.eventRange,S=m.instance.instanceId;t.relevantEvents=bt(g.getCurrentData().eventStore,S),f.minDistance=l.isTouch?0:h.eventDragMinDistance,f.delay=l.isTouch&&S!==c.props.eventSelection?Ga(c):null,h.fixedMirrorParent?v.parentNode=h.fixedMirrorParent:v.parentNode=Q(d,".fc"),v.revertDuration=h.dragRevertDuration;var C=c.isValidSegDownEl(d)&&!Q(d,".fc-event-resizer");f.setIgnoreMove(!C),t.isDragging=C&&l.subjectEl.classList.contains("fc-event-draggable")},t.handleDragStart=function(l){var d=t.component.context,u=t.eventRange,c=u.instance.instanceId;l.isTouch?c!==t.component.props.eventSelection&&d.dispatch({type:"SELECT_EVENT",eventInstanceId:c}):d.dispatch({type:"UNSELECT_EVENT"}),t.isDragging&&(d.calendarApi.unselect(l),d.emitter.trigger("eventDragStart",{el:t.subjectEl,event:new J(d,u.def,u.instance),jsEvent:l.origEvent,view:d.viewApi}))},t.handleHitUpdate=function(l,d){if(!!t.isDragging){var u=t.relevantEvents,c=t.hitDragging.initialHit,f=t.component.context,v=null,h=null,g=null,E=!1,m={affectedEvents:u,mutatedEvents:ge(),isEvent:!0};if(l){v=l.context;var S=v.options;f===v||S.editable&&S.droppable?(h=Oa(c,l,v.getCurrentData().pluginHooks.eventDragMutationMassagers),h&&(g=Rt(u,v.getCurrentData().eventUiBases,h,v),m.mutatedEvents=g,wt(m,l.dateProfile,v)||(E=!0,h=null,g=null,m.mutatedEvents=ge()))):v=null}t.displayDrag(v,m),E?Le():Ae(),d||(f===v&&be(c,l)&&(h=null),t.dragging.setMirrorNeedsRevert(!h),t.dragging.setMirrorIsVisible(!l||!Ct(t.subjectEl).querySelector(".fc-event-mirror")),t.receivingContext=v,t.validMutation=h,t.mutatedRelevantEvents=g)}},t.handlePointerUp=function(){t.isDragging||t.cleanup()},t.handleDragEnd=function(l){if(t.isDragging){var d=t.component.context,u=d.viewApi,c=t,f=c.receivingContext,v=c.validMutation,h=t.eventRange.def,g=t.eventRange.instance,E=new J(d,h,g),m=t.relevantEvents,S=t.mutatedRelevantEvents,C=t.hitDragging.finalHit;if(t.clearDrag(),d.emitter.trigger("eventDragStop",{el:t.subjectEl,event:E,jsEvent:l.origEvent,view:u}),v){if(f===d){var T=new J(d,S.defs[h.defId],g?S.instances[g.instanceId]:null);d.dispatch({type:"MERGE_EVENTS",eventStore:S});for(var N={oldEvent:E,event:T,relatedEvents:me(S,d,g),revert:function(){d.dispatch({type:"MERGE_EVENTS",eventStore:m})}},k={},b=0,M=d.getCurrentData().pluginHooks.eventDropTransformers;b<M.length;b++){var G=M[b];D(k,G(v,d))}d.emitter.trigger("eventDrop",D(D(D({},N),k),{el:l.subjectEl,delta:v.datesDelta,jsEvent:l.origEvent,view:u})),d.emitter.trigger("eventChange",N)}else if(f){var A={event:E,relatedEvents:me(m,d,g),revert:function(){d.dispatch({type:"MERGE_EVENTS",eventStore:m})}};d.emitter.trigger("eventLeave",D(D({},A),{draggedEl:l.subjectEl,view:u})),d.dispatch({type:"REMOVE_EVENTS",eventStore:m}),d.emitter.trigger("eventRemove",A);var q=S.defs[h.defId],B=S.instances[g.instanceId],w=new J(f,q,B);f.dispatch({type:"MERGE_EVENTS",eventStore:S});var y={event:w,relatedEvents:me(S,f,B),revert:function(){f.dispatch({type:"REMOVE_EVENTS",eventStore:S})}};f.emitter.trigger("eventAdd",y),l.isTouch&&f.dispatch({type:"SELECT_EVENT",eventInstanceId:g.instanceId}),f.emitter.trigger("drop",D(D({},_t(C.dateSpan,f)),{draggedEl:l.subjectEl,jsEvent:l.origEvent,view:C.context.viewApi})),f.emitter.trigger("eventReceive",D(D({},y),{draggedEl:l.subjectEl,view:C.context.viewApi}))}}else d.emitter.trigger("_noEventDrop")}t.cleanup()};var n=t.component,i=n.context.options,o=t.dragging=new se(e.el);o.pointer.selector=r.SELECTOR,o.touchScrollAllowed=!1,o.autoScroller.isEnabled=i.dragScroll;var s=t.hitDragging=new De(t.dragging,On);return s.useSubjectCenter=e.useEventCenter,s.emitter.on("pointerdown",t.handlePointerDown),s.emitter.on("dragstart",t.handleDragStart),s.emitter.on("hitupdate",t.handleHitUpdate),s.emitter.on("pointerup",t.handlePointerUp),s.emitter.on("dragend",t.handleDragEnd),t}return r.prototype.destroy=function(){this.dragging.destroy()},r.prototype.displayDrag=function(e,t){var n=this.component.context,i=this.receivingContext;i&&i!==e&&(i===n?i.dispatch({type:"SET_EVENT_DRAG",state:{affectedEvents:t.affectedEvents,mutatedEvents:ge(),isEvent:!0}}):i.dispatch({type:"UNSET_EVENT_DRAG"})),e&&e.dispatch({type:"SET_EVENT_DRAG",state:t})},r.prototype.clearDrag=function(){var e=this.component.context,t=this.receivingContext;t&&t.dispatch({type:"UNSET_EVENT_DRAG"}),e!==t&&e.dispatch({type:"UNSET_EVENT_DRAG"})},r.prototype.cleanup=function(){this.subjectSeg=null,this.isDragging=!1,this.eventRange=null,this.relevantEvents=null,this.receivingContext=null,this.validMutation=null,this.mutatedRelevantEvents=null},r.SELECTOR=".fc-event-draggable, .fc-event-resizable",r}(he);function Oa(a,r,e){var t=a.dateSpan,n=r.dateSpan,i=t.range.start,o=n.range.start,s={};t.allDay!==n.allDay&&(s.allDay=n.allDay,s.hasEnd=r.context.options.allDayMaintainDuration,n.allDay&&(i=Ne(i)));var l=Tt(i,o,a.context.dateEnv,a.componentId===r.componentId?a.largeUnit:null);l.milliseconds&&(s.allDay=!1);for(var d={datesDelta:l,standardProps:s},u=0,c=e;u<c.length;u++){var f=c[u];f(d,a,r)}return d}function Ga(a){var r=a.context.options,e=r.eventLongPressDelay;return e==null&&(e=r.longPressDelay),e}var Ua=function(a){P(r,a);function r(e){var t=a.call(this,e)||this;t.draggingSegEl=null,t.draggingSeg=null,t.eventRange=null,t.relevantEvents=null,t.validMutation=null,t.mutatedRelevantEvents=null,t.handlePointerDown=function(s){var l=t.component,d=t.querySegEl(s),u=je(d),c=t.eventRange=u.eventRange;t.dragging.minDistance=l.context.options.eventDragMinDistance,t.dragging.setIgnoreMove(!t.component.isValidSegDownEl(s.origEvent.target)||s.isTouch&&t.component.props.eventSelection!==c.instance.instanceId)},t.handleDragStart=function(s){var l=t.component.context,d=t.eventRange;t.relevantEvents=bt(l.getCurrentData().eventStore,t.eventRange.instance.instanceId);var u=t.querySegEl(s);t.draggingSegEl=u,t.draggingSeg=je(u),l.calendarApi.unselect(),l.emitter.trigger("eventResizeStart",{el:u,event:new J(l,d.def,d.instance),jsEvent:s.origEvent,view:l.viewApi})},t.handleHitUpdate=function(s,l,d){var u=t.component.context,c=t.relevantEvents,f=t.hitDragging.initialHit,v=t.eventRange.instance,h=null,g=null,E=!1,m={affectedEvents:c,mutatedEvents:ge(),isEvent:!0};if(s){var S=s.componentId===f.componentId&&t.isHitComboAllowed&&!t.isHitComboAllowed(f,s);S||(h=za(f,s,d.subjectEl.classList.contains("fc-event-resizer-start"),v.range))}h&&(g=Rt(c,u.getCurrentData().eventUiBases,h,u),m.mutatedEvents=g,wt(m,s.dateProfile,u)||(E=!0,h=null,g=null,m.mutatedEvents=null)),g?u.dispatch({type:"SET_EVENT_RESIZE",state:m}):u.dispatch({type:"UNSET_EVENT_RESIZE"}),E?Le():Ae(),l||(h&&be(f,s)&&(h=null),t.validMutation=h,t.mutatedRelevantEvents=g)},t.handleDragEnd=function(s){var l=t.component.context,d=t.eventRange.def,u=t.eventRange.instance,c=new J(l,d,u),f=t.relevantEvents,v=t.mutatedRelevantEvents;if(l.emitter.trigger("eventResizeStop",{el:t.draggingSegEl,event:c,jsEvent:s.origEvent,view:l.viewApi}),t.validMutation){var h=new J(l,v.defs[d.defId],u?v.instances[u.instanceId]:null);l.dispatch({type:"MERGE_EVENTS",eventStore:v});var g={oldEvent:c,event:h,relatedEvents:me(v,l,u),revert:function(){l.dispatch({type:"MERGE_EVENTS",eventStore:f})}};l.emitter.trigger("eventResize",D(D({},g),{el:t.draggingSegEl,startDelta:t.validMutation.startDelta||ee(0),endDelta:t.validMutation.endDelta||ee(0),jsEvent:s.origEvent,view:l.viewApi})),l.emitter.trigger("eventChange",g)}else l.emitter.trigger("_noEventResize");t.draggingSeg=null,t.relevantEvents=null,t.validMutation=null};var n=e.component,i=t.dragging=new se(e.el);i.pointer.selector=".fc-event-resizer",i.touchScrollAllowed=!1,i.autoScroller.isEnabled=n.context.options.dragScroll;var o=t.hitDragging=new De(t.dragging,He(e));return o.emitter.on("pointerdown",t.handlePointerDown),o.emitter.on("dragstart",t.handleDragStart),o.emitter.on("hitupdate",t.handleHitUpdate),o.emitter.on("dragend",t.handleDragEnd),t}return r.prototype.destroy=function(){this.dragging.destroy()},r.prototype.querySegEl=function(e){return Q(e.subjectEl,".fc-event")},r}(he);function za(a,r,e,t){var n=a.context.dateEnv,i=a.dateSpan.range.start,o=r.dateSpan.range.start,s=Tt(i,o,n,a.largeUnit);if(e){if(n.add(t.start,s)<t.end)return{startDelta:s}}else if(n.add(t.end,s)>t.start)return{endDelta:s};return null}var qa=function(){function a(r){var e=this;this.context=r,this.isRecentPointerDateSelect=!1,this.matchesCancel=!1,this.matchesEvent=!1,this.onSelect=function(n){n.jsEvent&&(e.isRecentPointerDateSelect=!0)},this.onDocumentPointerDown=function(n){var i=e.context.options.unselectCancel,o=Qn(n.origEvent);e.matchesCancel=!!Q(o,i),e.matchesEvent=!!Q(o,Zt.SELECTOR)},this.onDocumentPointerUp=function(n){var i=e.context,o=e.documentPointer,s=i.getCurrentData();if(!o.wasTouchScroll){if(s.dateSelection&&!e.isRecentPointerDateSelect){var l=i.options.unselectAuto;l&&(!l||!e.matchesCancel)&&i.calendarApi.unselect(n)}s.eventSelection&&!e.matchesEvent&&i.dispatch({type:"UNSELECT_EVENT"})}e.isRecentPointerDateSelect=!1};var t=this.documentPointer=new Ue(document);t.shouldIgnoreMove=!0,t.shouldWatchScroll=!1,t.emitter.on("pointerdown",this.onDocumentPointerDown),t.emitter.on("pointerup",this.onDocumentPointerUp),r.emitter.on("select",this.onSelect)}return a.prototype.destroy=function(){this.context.emitter.off("select",this.onSelect),this.documentPointer.destroy()},a}(),Ya={fixedMirrorParent:z},Xa={dateClick:z,eventDragStart:z,eventDragStop:z,eventDrop:z,eventResizeStart:z,eventResizeStop:z,eventResize:z,drop:z,eventReceive:z,eventLeave:z};We.dataAttrPrefix="";(function(a){P(r,a);function r(e){var t=a.call(this,e)||this;t.shouldIgnoreMove=!1,t.mirrorSelector="",t.currentMirrorEl=null,t.handlePointerDown=function(i){t.emitter.trigger("pointerdown",i),t.shouldIgnoreMove||t.emitter.trigger("dragstart",i)},t.handlePointerMove=function(i){t.shouldIgnoreMove||t.emitter.trigger("dragmove",i)},t.handlePointerUp=function(i){t.emitter.trigger("pointerup",i),t.shouldIgnoreMove||t.emitter.trigger("dragend",i)};var n=t.pointer=new Ue(e);return n.emitter.on("pointerdown",t.handlePointerDown),n.emitter.on("pointermove",t.handlePointerMove),n.emitter.on("pointerup",t.handlePointerUp),t}return r.prototype.destroy=function(){this.pointer.destroy()},r.prototype.setIgnoreMove=function(e){this.shouldIgnoreMove=e},r.prototype.setMirrorIsVisible=function(e){if(e)this.currentMirrorEl&&(this.currentMirrorEl.style.visibility="",this.currentMirrorEl=null);else{var t=this.mirrorSelector?document.querySelector(this.mirrorSelector):null;t&&(this.currentMirrorEl=t,t.style.visibility="hidden")}},r})(Dt);var $a=ce({componentInteractions:[Wa,Ba,Zt,Ua],calendarInteractions:[qa],elementDraggingImpl:se,optionRefiners:Ya,listenerRefiners:Xa});const Ka={id:"project_calendar",class:"panel-board overflow-y"},_a={id:"form"},Za=["onSubmit"],Qa={class:"row flex justify-space-between"},Ja={class:"flex-column column-1 relative"},eo=x("span",{class:"label flex"},[ue("\u30BF\u30A4\u30C8\u30EB"),x("span",{class:"required flex align-start"},"*\u5FC5\u9808")],-1),to={class:"row flex justify-space-between"},no={class:"row flex justify-space-between column-2-space"},ro={class:"flex-column column-2-space"},ao=x("span",{class:"label flex"},"\u958B\u59CB\u65E5",-1),oo={style:{height:"34px","font-size":".85rem","padding-top":"4px",color:"#969595"},class:"date flex align-center"},io={class:"flex-column column-2-space"},so=x("span",{class:"label flex"},"\u7D42\u4E86\u65E5",-1),lo={style:{height:"34px","font-size":".85rem","padding-top":"4px",color:"#969595"},class:"date flex align-center"},uo={class:"row flex justify-space-between column-2-space"},co={class:"flex-column column-2-space relative"},po=x("span",{class:"label flex"},[ue("\u958B\u59CB\u65E5"),x("span",{class:"required flex align-start"},"*\u5FC5\u9808")],-1),fo={class:"flex-column column-2-space relative"},vo=x("span",{class:"label flex"},[ue("\u7D42\u4E86\u65E5"),x("span",{class:"required flex align-start"},"*\u5FC5\u9808")],-1),ho={class:"row flex"},go={class:"flex-column column-1 relative"},mo=x("span",{class:"label flex"},"\u5185\u5BB9",-1),yo={class:"action-wrapper flex align-center"},So=x("button",{class:"flex align-center justify-center cancel"},"\u4E2D\u6B62",-1),Eo={class:"button-wrapper flex justify-end"},Do=["onSubmit"],bo={class:"row flex justify-space-between column-1"},Ro={class:"flex-column column-2-space relative"},wo=x("span",{class:"label flex"},[ue("\u4F11\u65E5"),x("span",{class:"required flex align-start"},"*\u5FC5\u9808")],-1),Co={class:"action-wrapper flex align-center"},To=x("button",{class:"flex align-center justify-center cancel"},"\u4E2D\u6B62",-1),Go=Ke({setup(a){const{get:r}=ir(),{remove:e,submitAsFormObject:t}=ar(),{d:n,d2:i,dr:o,data:s,useToggle:l}=or(),{daysInBetween:d,setDateJPDateFormat:u,findDaysInAYear:c}=lr(),{project:f,payload:v,content:h}=sr(),g=F(),E=F();F(null);const m=F(!1);F(""),F([]);const S=F([{name:"\u65E5\u66DC\u65E5",value:0},{name:"\u6708\u66DC\u65E5",value:1},{name:"\u706B\u66DC\u65E5",value:2},{name:"\u6C34\u66DC\u65E5",value:3},{name:"\u6728\u66DC\u65E5",value:4},{name:"\u91D1\u66DC\u65E5",value:5},{name:"\u571F\u66DC\u65E5",value:6}]),C=F(),T=F(),N=F(!1),k=F(null),b=on({title:{required:!0,model:null,error:!1},start:{required:!0,model:null,error:!1},end:{required:!0,model:null,error:!1},description:{required:!1,model:null,error:!1}}),M=F({plugins:[Or,Ta,$a],initialDate:new Date,headerToolbar:{left:"prev,next today",center:"title",right:"",today:"\u4ECA\u65E5",month:"\u6708\u8868",week:"\u9031\u8868",day:"\u65E5\u8868"},locale:"ja",editable:!0,droppable:!0,eventDrop:function(w){var y;h.value=!0,v.value={method:"patch",endpoints:["app/calendar_events/"+w.event.id,"project_details/"+((y=f.value)==null?void 0:y.id)],state:"project"},t({start:w.event.start,end:w.event.end})},selectable:!0,selectMirror:!0,dayMaxEvents:!0,events:[],dateClick:function(w){var L;v.value={method:"post",endpoints:["app/calendar_events","project_details/"+((L=f.value)==null?void 0:L.id)],state:"project"},k.value=null,Object.keys(b).forEach(j=>{b[j].error=!1});let y=new Date(w.date);y.setDate(y.getDate()),y.setHours(10),y.setMinutes(0),y.setMilliseconds(0),b.start.model=y;let R=new Date(w.date);R.setDate(R.getDate()),R.setHours(12),R.setMinutes(0),R.setMilliseconds(0),b.end.model=R,b.title.model=null,b.description.model=null,n.value=!0},eventClick:function(w){var y;w.jsEvent.preventDefault(),v.value={method:"patch",endpoints:["app/calendar_events/"+w.event.id,"project_details/"+((y=f.value)==null?void 0:y.id)],state:"project"},Object.keys(b).forEach(R=>{b[R].error=!1}),k.value=parseInt(w.event._def.publicId),b.title.model=w.event.title,b.start.model=new Date(w.event.start.setHours(w.event.start.getHours())),b.end.model=new Date(w.event.end.setHours(w.event.end.getHours())),b.description.model=w.event.extendedProps.description,N.value=!0,n.value=!0},select:function(w){var L;v.value={method:"post",endpoints:["app/calendar_events","project_details/"+((L=f.value)==null?void 0:L.id)],state:"project"},Object.keys(b).forEach(j=>{b[j].error=!1});let y=new Date(w.start);y.setDate(y.getDate()),y.setHours(10),y.setMinutes(0),y.setMilliseconds(0),b.start.model=y;let R=new Date(w.end-1);R.setDate(R.getDate()),R.setHours(12),R.setMinutes(0),R.setMilliseconds(0),b.end.model=R,b.title.model=null,b.description.model=null,n.value=!0}});function G(){m.value=!0,o.value=!1,e("app/calendar_events/"+k.value).then(()=>{setTimeout(()=>{var w;r("project_details/"+((w=f.value)==null?void 0:w.id),"project").then(()=>{m.value=!1,n.value=!1})},1e3)})}function A(){var L;let w=[],y={calendar:(L=f.value)==null?void 0:L.calendar.id,title:b.title.model,start:b.start.model,end:b.end.model,description:b.description.model};Object.keys(b).forEach(j=>{b[j].required&&(b[j].model===""||!b[j].model)&&(b[j].error=!0,w.push(j))}),k.value&&(y.id=k.value.id),w.length||(m.value=!0,t(y).then(()=>{setTimeout(()=>{m.value=!1,n.value=!1},1e3)}))}function q(){var L,j,ze;v.value={method:"patch",endpoints:["app/calendars/"+((L=f.value)==null?void 0:L.calendar.id),"project_details/"+((j=f.value)==null?void 0:j.id)],state:"project"};const w=[],y=[];C.value.forEach(Y=>{c(Y).forEach(X=>{var re;w.push({calendar:(re=f.value)==null?void 0:re.calendar.id,title:"\u4F11\u65E5",start:X,end:X,holiday:!0,display:"background",color:"rgba(255, 121, 121, .3)"})})});const R=[];[0,1,2,3,4,5,6].forEach(Y=>{var X;((X=C.value)==null?void 0:X.includes(Y))||R.push(Y)}),R.forEach(Y=>{c(Y).forEach(X=>{var re;y.push({calendar:(re=f.value)==null?void 0:re.calendar.id,title:"\u4F11\u65E5",start:X,end:X,color:"#ff7979"})})}),t({holiday_codes:(ze=C.value)==null?void 0:ze.join()}).then(()=>{var Y;m.value=!0,v.value={method:"post",endpoints:["app/calendar_events","project_details/"+((Y=f.value)==null?void 0:Y.id)],state:"project"},t({holiday:w,remove:y}).then(()=>{setTimeout(()=>{m.value=!1,i.value=!1},1e3)})})}function B(w){w==="start"?g.value.input.focus():E.value.input.focus()}return de(()=>n.value,w=>{w||(N.value=!1,o.value=!1)}),de(()=>i.value,w=>{var y,R;w&&((y=f.value)==null?void 0:y.calendar.holiday_codes)&&(C.value=(R=f.value)==null?void 0:R.calendar.holiday_codes.split(",").map(L=>parseInt(L)))}),de(()=>f.value,w=>{M.value.events=(w==null?void 0:w.calendar.events)||[]}),de(()=>T.value,w=>{if(w){const[...y]=document.getElementsByClassName("fc-toolbar-chunk");y.forEach((R,L)=>{if(L===2){const j=document.createElement("button");j.classList="fc-button",j.textContent="\u4F11\u65E5\u8A2D\u5B9A",j.onclick=()=>{i.value=!0},R.appendChild(j)}})}}),sn(()=>{var w;M.value.events=((w=f.value)==null?void 0:w.calendar.events)||[]}),(w,y)=>(Ze(),_e("div",Ka,[U(I(gr),{ref_key:"cal",ref:T,options:M.value},null,8,["options"]),U(kt,{modelValue:I(n),"onUpdate:modelValue":y[12]||(y[12]=R=>we(n)?n.value=R:null),title:"\u30B9\u30B1\u30B8\u30E5\u30FC\u30EB\u30D5\u30A9\u30FC\u30E0"},{default:Re(()=>[U(It,{modelValue:m.value,"onUpdate:modelValue":y[0]||(y[0]=R=>m.value=R),text:""},null,8,["modelValue"]),x("div",_a,[x("form",{action:"",onSubmit:Qe(R=>!1,["prevent"])},[x("div",Qa,[x("div",Ja,[eo,U(I(ln),{class:Je(["cfec",{error:I(b).title.error}]),modelValue:I(b).title.model,"onUpdate:modelValue":y[1]||(y[1]=R=>I(b).title.model=R),placeholdeR:"\u65B0\u898F\u30A4\u30D9\u30F3\u30C8"},null,8,["class","modelValue"])])]),x("div",to,[x("div",no,[x("div",ro,[ao,x("p",oo,et(I(u)(I(b).start.model)),1)]),x("div",io,[so,x("p",lo,et(I(u)(I(b).end.model)),1)])]),x("div",uo,[x("div",co,[po,x("div",{class:"overlay absolute pointer",onClick:y[2]||(y[2]=R=>B("start")),style:{width:"100%",height:"100%","z-index":"99"}}),U(I(Pt),{modelValue:I(b).start.model,"onUpdate:modelValue":y[3]||(y[3]=R=>I(b).start.model=R),ref_key:"startTime",ref:g,"hour-format":"24",timeOnly:"","date-format":"yy\u5E74mm\u6708dd\u65E5"},null,8,["modelValue"])]),x("div",fo,[vo,x("div",{class:"overlay absolute pointer",onClick:y[4]||(y[4]=R=>B("end")),style:{width:"100%",height:"100%","z-index":"99"}}),U(I(Pt),{modelValue:I(b).end.model,"onUpdate:modelValue":y[5]||(y[5]=R=>I(b).end.model=R),ref_key:"endTime",ref:E,"hour-format":"24",timeOnly:"","date-format":"yy\u5E74mm\u6708dd\u65E5"},null,8,["modelValue"])])])]),x("div",ho,[x("div",go,[mo,U(I(tr),{class:Je({error:I(b).description.error}),modelValue:I(b).description.model,"onUpdate:modelValue":y[6]||(y[6]=R=>I(b).description.model=R)},null,8,["class","modelValue"])])]),x("div",yo,[So,N.value?(Ze(),_e("button",{key:0,onClick:y[7]||(y[7]=R=>o.value=!0),class:"flex align-center justify-center remove"},"\u524A\u9664")):dn("",!0),x("button",{onClick:y[8]||(y[8]=R=>A()),class:"flex align-center justify-center submit-or-next"},"\u767B\u9332")])],40,Za)]),U(rr,{modelValue:I(o),"onUpdate:modelValue":y[11]||(y[11]=R=>we(o)?o.value=R:null)},{default:Re(()=>[x("div",Eo,[x("button",{onClick:y[9]||(y[9]=R=>o.value=!1),class:"cancel"},"\u3044\u3044\u3048"),x("button",{onClick:y[10]||(y[10]=R=>G()),class:"delete"},"\u306F\u3044")])]),_:1},8,["modelValue"])]),_:1},8,["modelValue"]),U(kt,{modelValue:I(i),"onUpdate:modelValue":y[16]||(y[16]=R=>we(i)?i.value=R:null)},{default:Re(()=>[U(It,{modelValue:m.value,"onUpdate:modelValue":y[13]||(y[13]=R=>m.value=R),text:""},null,8,["modelValue"]),x("form",{onSubmit:Qe(R=>!1,["prevent"])},[x("div",bo,[x("div",Ro,[wo,U(I(nr),{class:"cfec",modelValue:C.value,"onUpdate:modelValue":y[14]||(y[14]=R=>C.value=R),options:S.value,"option-value":"value","option-label":"name"},null,8,["modelValue","options"])])]),x("div",Co,[To,x("button",{onClick:y[15]||(y[15]=R=>q()),class:"flex align-center justify-center submit-or-next"},"\u767B\u9332")])],40,Do)]),_:1},8,["modelValue"])]))}});export{Go as default};
