var F=Object.defineProperty;var E=Object.getOwnPropertySymbols;var H=Object.prototype.hasOwnProperty,B=Object.prototype.propertyIsEnumerable;var S=(e,t,i)=>t in e?F(e,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[t]=i,v=(e,t)=>{for(var i in t||(t={}))H.call(t,i)&&S(e,i,t[i]);if(E)for(var i of E(t))B.call(t,i)&&S(e,i,t[i]);return e};import{G as z,Q as R,R as N,x,S as U,o as l,c as a,e as g,F as f,y as p,q as L,p as T,H as d,D as O,n as A,g as m,t as w,U as D,Z as I,V as o,W as Z,b as _,T as M,I as C,s as V,i as W}from"../main.js";import{O as q,s as G}from"./portal.esm.js";var K={name:"Menuitem",extends:z,inheritAttrs:!1,emits:["item-click"],props:{item:null,templates:null,exact:null,id:null,focusedOptionId:null},methods:{getItemProp(e,t){return e&&e.item?R.getItemValue(e.item[t]):void 0},getPTOptions(e){return this.ptm(e,{context:{focused:this.isItemFocused()}})},isItemFocused(){return this.focusedOptionId===this.id},onItemActionClick(e,t){t&&t(e)},onItemClick(e){const t=this.getItemProp(this.item,"command");t&&t({originalEvent:e,item:this.item.item}),this.$emit("item-click",{originalEvent:e,item:this.item,id:this.id})},containerClass(){return["p-menuitem",this.item.class,{"p-focus":this.id===this.focusedOptionId,"p-disabled":this.disabled()}]},linkClass(e){return["p-menuitem-link",{"router-link-active":e&&e.isActive,"router-link-active-exact":this.exact&&e&&e.isExactActive}]},visible(){return typeof this.item.visible=="function"?this.item.visible():this.item.visible!==!1},disabled(){return typeof this.item.disabled=="function"?this.item.disabled():this.item.disabled},label(){return typeof this.item.label=="function"?this.item.label():this.item.label}},computed:{iconClass(){return["p-menuitem-icon",this.item.icon]}},directives:{ripple:N}};const Q=["id","aria-label","aria-disabled"],j=["href","onClick"],J=["href","target"];function X(e,t,i,c,r,n){const y=x("router-link"),k=U("ripple");return n.visible()?(l(),a("li",d({key:0,id:i.id,class:n.containerClass(),role:"menuitem",style:i.item.style,"aria-label":n.label(),"aria-disabled":n.disabled()},n.getPTOptions("menuitem")),[g("div",d({class:"p-menuitem-content",onClick:t[0]||(t[0]=s=>n.onItemClick(s))},n.getPTOptions("content")),[i.templates.item?(l(),p(O(i.templates.item),{key:1,item:i.item},null,8,["item"])):(l(),a(f,{key:0},[i.item.to&&!n.disabled()?(l(),p(y,{key:0,to:i.item.to,custom:""},{default:L(({navigate:s,href:u,isActive:h,isExactActive:b})=>[T((l(),a("a",d({href:u,class:n.linkClass({isActive:h,isExactActive:b}),tabindex:"-1","aria-hidden":"true",onClick:P=>n.onItemActionClick(P,s)},n.getPTOptions("action")),[i.templates.itemicon?(l(),p(O(i.templates.itemicon),{key:0,item:i.item,class:A(n.iconClass)},null,8,["item","class"])):i.item.icon?(l(),a("span",d({key:1,class:n.iconClass},n.getPTOptions("icon")),null,16)):m("",!0),g("span",d({class:"p-menuitem-text"},n.getPTOptions("label")),w(n.label()),17)],16,j)),[[k]])]),_:1},8,["to"])):T((l(),a("a",d({key:1,href:i.item.url,class:n.linkClass(),target:i.item.target,tabindex:"-1","aria-hidden":"true"},n.getPTOptions("action")),[i.templates.itemicon?(l(),p(O(i.templates.itemicon),{key:0,item:i.item,class:A(n.iconClass)},null,8,["item","class"])):i.item.icon?(l(),a("span",d({key:1,class:n.iconClass},n.getPTOptions("icon")),null,16)):m("",!0),g("span",d({class:"p-menuitem-text"},n.getPTOptions("label")),w(n.label()),17)],16,J)),[[k]])],64))],16)],16,Q)):m("",!0)}K.render=X;var Y={name:"Menu",extends:z,inheritAttrs:!1,emits:["show","hide","focus","blur"],props:{popup:{type:Boolean,default:!1},model:{type:Array,default:null},appendTo:{type:String,default:"body"},autoZIndex:{type:Boolean,default:!0},baseZIndex:{type:Number,default:0},exact:{type:Boolean,default:!0},tabindex:{type:Number,default:0},"aria-label":{type:String,default:null},"aria-labelledby":{type:String,default:null}},data(){return{id:this.$attrs.id,overlayVisible:!1,focused:!1,focusedOptionIndex:-1,selectedOptionIndex:-1}},watch:{"$attrs.id":function(e){this.id=e||D()}},target:null,outsideClickListener:null,scrollHandler:null,resizeListener:null,container:null,list:null,mounted(){this.id=this.id||D(),this.popup||(this.bindResizeListener(),this.bindOutsideClickListener())},beforeUnmount(){this.unbindResizeListener(),this.unbindOutsideClickListener(),this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.target=null,this.container&&this.autoZIndex&&I.clear(this.container),this.container=null},methods:{itemClick(e){const t=e.item;this.disabled(t)||(t.command&&t.command(e),t.to&&e.navigate&&e.navigate(e.originalEvent),this.overlayVisible&&this.hide(),!this.popup&&this.focusedOptionIndex!==e.id&&(this.focusedOptionIndex=e.id))},onListFocus(e){this.focused=!0,this.popup||(this.selectedOptionIndex!==-1?(this.changeFocusedOptionIndex(this.selectedOptionIndex),this.selectedOptionIndex=-1):this.changeFocusedOptionIndex(0)),this.$emit("focus",e)},onListBlur(e){this.focused=!1,this.focusedOptionIndex=-1,this.$emit("blur",e)},onListKeyDown(e){switch(e.code){case"ArrowDown":this.onArrowDownKey(e);break;case"ArrowUp":this.onArrowUpKey(e);break;case"Home":this.onHomeKey(e);break;case"End":this.onEndKey(e);break;case"Enter":this.onEnterKey(e);break;case"Space":this.onSpaceKey(e);break;case"Escape":this.popup&&(o.focus(this.target),this.hide());case"Tab":this.overlayVisible&&this.hide();break}},onArrowDownKey(e){const t=this.findNextOptionIndex(this.focusedOptionIndex);this.changeFocusedOptionIndex(t),e.preventDefault()},onArrowUpKey(e){if(e.altKey&&this.popup)o.focus(this.target),this.hide(),e.preventDefault();else{const t=this.findPrevOptionIndex(this.focusedOptionIndex);this.changeFocusedOptionIndex(t),e.preventDefault()}},onHomeKey(e){this.changeFocusedOptionIndex(0),e.preventDefault()},onEndKey(e){this.changeFocusedOptionIndex(o.find(this.container,"li.p-menuitem:not(.p-disabled)").length-1),e.preventDefault()},onEnterKey(e){const t=o.findSingle(this.list,`li[id="${`${this.focusedOptionIndex}`}"]`),i=t&&o.findSingle(t,".p-menuitem-link");this.popup&&o.focus(this.target),i?i.click():t&&t.click(),e.preventDefault()},onSpaceKey(e){this.onEnterKey(e)},findNextOptionIndex(e){const i=[...o.find(this.container,"li.p-menuitem:not(.p-disabled)")].findIndex(c=>c.id===e);return i>-1?i+1:0},findPrevOptionIndex(e){const i=[...o.find(this.container,"li.p-menuitem:not(.p-disabled)")].findIndex(c=>c.id===e);return i>-1?i-1:0},changeFocusedOptionIndex(e){const t=o.find(this.container,"li.p-menuitem:not(.p-disabled)");let i=e>=t.length?t.length-1:e<0?0:e;i>-1&&(this.focusedOptionIndex=t[i].getAttribute("id"))},toggle(e){this.overlayVisible?this.hide():this.show(e)},show(e){this.overlayVisible=!0,this.target=e.currentTarget},hide(){this.overlayVisible=!1,this.target=null},onEnter(e){this.alignOverlay(),this.bindOutsideClickListener(),this.bindResizeListener(),this.bindScrollListener(),this.autoZIndex&&I.set("menu",e,this.baseZIndex+this.$primevue.config.zIndex.menu),this.popup&&(o.focus(this.list),this.changeFocusedOptionIndex(0)),this.$emit("show")},onLeave(){this.unbindOutsideClickListener(),this.unbindResizeListener(),this.unbindScrollListener(),this.$emit("hide")},onAfterLeave(e){this.autoZIndex&&I.clear(e)},alignOverlay(){o.absolutePosition(this.container,this.target),this.container.style.minWidth=o.getOuterWidth(this.target)+"px"},bindOutsideClickListener(){this.outsideClickListener||(this.outsideClickListener=e=>{const t=this.container&&!this.container.contains(e.target),i=!(this.target&&(this.target===e.target||this.target.contains(e.target)));this.overlayVisible&&t&&i?this.hide():!this.popup&&t&&i&&(this.focusedOptionIndex=-1)},document.addEventListener("click",this.outsideClickListener))},unbindOutsideClickListener(){this.outsideClickListener&&(document.removeEventListener("click",this.outsideClickListener),this.outsideClickListener=null)},bindScrollListener(){this.scrollHandler||(this.scrollHandler=new Z(this.target,()=>{this.overlayVisible&&this.hide()})),this.scrollHandler.bindScrollListener()},unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()},bindResizeListener(){this.resizeListener||(this.resizeListener=()=>{this.overlayVisible&&!o.isTouchDevice()&&this.hide()},window.addEventListener("resize",this.resizeListener))},unbindResizeListener(){this.resizeListener&&(window.removeEventListener("resize",this.resizeListener),this.resizeListener=null)},visible(e){return typeof e.visible=="function"?e.visible():e.visible!==!1},disabled(e){return typeof e.disabled=="function"?e.disabled():e.disabled},label(e){return typeof e.label=="function"?e.label():e.label},separatorClass(e){return["p-menuitem-separator",e.class]},onOverlayClick(e){q.emit("overlay-click",{originalEvent:e,target:this.target})},containerRef(e){this.container=e},listRef(e){this.list=e}},computed:{containerClass(){return["p-menu p-component",{"p-menu-overlay":this.popup,"p-input-filled":this.$primevue.config.inputStyle==="filled","p-ripple-disabled":this.$primevue.config.ripple===!1}]},focusedOptionId(){return this.focusedOptionIndex!==-1?this.focusedOptionIndex:null}},components:{PVMenuitem:K,Portal:G}};const $=["id"],ee=["id","tabindex","aria-activedescendant","aria-label","aria-labelledby"],te=["id"];function ie(e,t,i,c,r,n){const y=x("PVMenuitem"),k=x("Portal");return l(),p(k,{appendTo:i.appendTo,disabled:!i.popup},{default:L(()=>[_(M,{name:"p-connected-overlay",onEnter:n.onEnter,onLeave:n.onLeave,onAfterLeave:n.onAfterLeave},{default:L(()=>[!i.popup||r.overlayVisible?(l(),a("div",d({key:0,ref:n.containerRef,id:r.id,class:n.containerClass,onClick:t[3]||(t[3]=(...s)=>n.onOverlayClick&&n.onOverlayClick(...s))},v(v({},e.$attrs),e.ptm("root"))),[e.$slots.start?(l(),a("div",d({key:0,class:"p-menu-start"},e.ptm("start")),[C(e.$slots,"start")],16)):m("",!0),g("ul",d({ref:n.listRef,id:r.id+"_list",class:"p-menu-list p-reset",role:"menu",tabindex:i.tabindex,"aria-activedescendant":r.focused?n.focusedOptionId:void 0,"aria-label":e.ariaLabel,"aria-labelledby":e.ariaLabelledby,onFocus:t[0]||(t[0]=(...s)=>n.onListFocus&&n.onListFocus(...s)),onBlur:t[1]||(t[1]=(...s)=>n.onListBlur&&n.onListBlur(...s)),onKeydown:t[2]||(t[2]=(...s)=>n.onListKeyDown&&n.onListKeyDown(...s))},e.ptm("menu")),[(l(!0),a(f,null,V(i.model,(s,u)=>(l(),a(f,{key:n.label(s)+u.toString()},[s.items&&n.visible(s)&&!s.separator?(l(),a(f,{key:0},[s.items?(l(),a("li",d({key:0,id:r.id+"_"+u,class:"p-submenu-header",role:"none"},e.ptm("submenuHeader")),[C(e.$slots,"item",{item:s},()=>[W(w(n.label(s)),1)])],16,te)):m("",!0),(l(!0),a(f,null,V(s.items,(h,b)=>(l(),a(f,{key:h.label+u+"_"+b},[n.visible(h)&&!h.separator?(l(),p(y,{key:0,id:r.id+"_"+u+"_"+b,item:h,templates:e.$slots,exact:i.exact,focusedOptionId:n.focusedOptionId,onItemClick:n.itemClick,pt:e.pt},null,8,["id","item","templates","exact","focusedOptionId","onItemClick","pt"])):n.visible(h)&&h.separator?(l(),a("li",d({key:"separator"+u+b,class:n.separatorClass(s),style:h.style,role:"separator"},e.ptm("separator")),null,16)):m("",!0)],64))),128))],64)):n.visible(s)&&s.separator?(l(),a("li",d({key:"separator"+u.toString(),class:n.separatorClass(s),style:s.style,role:"separator"},e.ptm("separator")),null,16)):(l(),p(y,{key:n.label(s)+u.toString(),id:r.id+"_"+u,item:s,templates:e.$slots,exact:i.exact,focusedOptionId:n.focusedOptionId,onItemClick:n.itemClick,pt:e.pt},null,8,["id","item","templates","exact","focusedOptionId","onItemClick","pt"]))],64))),128))],16,ee),e.$slots.end?(l(),a("div",d({key:1,class:"p-menu-end"},e.ptm("end")),[C(e.$slots,"end")],16)):m("",!0)],16,$)):m("",!0)]),_:3},8,["onEnter","onLeave","onAfterLeave"])]),_:3},8,["appendTo","disabled"])}function ne(e,t){t===void 0&&(t={});var i=t.insertAt;if(!(!e||typeof document=="undefined")){var c=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",i==="top"&&c.firstChild?c.insertBefore(r,c.firstChild):c.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}}var se=`
.p-menu-overlay {
    position: absolute;
    top: 0;
    left: 0;
}
.p-menu ul {
    margin: 0;
    padding: 0;
    list-style: none;
}
.p-menu .p-menuitem-link {
    cursor: pointer;
    display: flex;
    align-items: center;
    text-decoration: none;
    overflow: hidden;
    position: relative;
}
.p-menu .p-menuitem-text {
    line-height: 1;
}
`;ne(se);Y.render=ie;export{Y as s};
